"use strict";(self["webpackChunkDINGGUL"]=self["webpackChunkDINGGUL"]||[]).push([[97],{4254:function(e,t,n){n.d(t,{Z:function(){return Si}});var i=n(2262),l=n(6252),s=n(5108),o=n(4155),r=Object.defineProperty,a=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t,n)=>(a(e,"symbol"!=typeof t?t+"":t,n),n),u=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},d=(e,t,n)=>(u(e,t,"read from private field"),n?n.call(e):t.get(e)),h=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},p=(e,t,n,i)=>(u(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),m=(e,t,n,i)=>({set _(i){p(e,t,i,n)},get _(){return d(e,t,i)}}),g=(e,t,n)=>(u(e,t,"access private method"),n);const f="md-editor",v="md-editor-v3",k="https://at.alicdn.com/t/c/font_2605852_u82y61ve02.js",b="https://cdnjs.cloudflare.com/ajax/libs",y=`${b}/highlight.js/11.7.0/highlight.min.js`,w={main:`${b}/prettier/2.8.0/standalone.js`,markdown:`${b}/prettier/2.8.0/parser-markdown.js`},x={css:`${b}/cropperjs/1.5.13/cropper.min.css`,js:`${b}/cropperjs/1.5.13/cropper.min.js`},$=`${b}/screenfull.js/5.2.0/screenfull.min.js`,S=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","htmlPreview","catalog","github"],C=["markdownTotal","=","scrollSwitch"],E={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Word Count",scrollAuto:"Scroll Auto"}}},T=`${b}/mermaid/9.4.0/mermaid.min.js`,W={js:`${b}/KaTeX/0.16.3/katex.min.js`,css:`${b}/KaTeX/0.16.3/katex.min.css`},z={a11y:{light:`${b}/highlight.js/11.7.0/styles/a11y-light.min.css`,dark:`${b}/highlight.js/11.7.0/styles/a11y-dark.min.css`},atom:{light:`${b}/highlight.js/11.7.0/styles/atom-one-light.min.css`,dark:`${b}/highlight.js/11.7.0/styles/atom-one-dark.min.css`},github:{light:`${b}/highlight.js/11.7.0/styles/github.min.css`,dark:`${b}/highlight.js/11.7.0/styles/github-dark.min.css`},gradient:{light:`${b}/highlight.js/11.7.0/styles/gradient-light.min.css`,dark:`${b}/highlight.js/11.7.0/styles/gradient-dark.min.css`},kimbie:{light:`${b}/highlight.js/11.7.0/styles/kimbie-light.min.css`,dark:`${b}/highlight.js/11.7.0/styles/kimbie-dark.min.css`},paraiso:{light:`${b}/highlight.js/11.7.0/styles/paraiso-light.min.css`,dark:`${b}/highlight.js/11.7.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${b}/highlight.js/11.7.0/styles/qtcreator-light.min.css`,dark:`${b}/highlight.js/11.7.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${b}/highlight.js/11.7.0/styles/stackoverflow-light.min.css`,dark:`${b}/highlight.js/11.7.0/styles/stackoverflow-dark.min.css`}},A={markedRenderer:e=>e,markedExtensions:[],markedOptions:{},editorExtensions:{},editorConfig:{}},_=e=>{if(e)for(const t in e){const n=e[t];n&&(A[t]=n)}};class F{constructor(){c(this,"pools",{})}remove(e,t,n){const i=this.pools[e]&&this.pools[e][t];i&&(this.pools[e][t]=i.filter((e=>e!==n)))}clear(e){this.pools[e]={}}on(e,t){return this.pools[e]||(this.pools[e]={}),this.pools[e][t.name]||(this.pools[e][t.name]=[]),this.pools[e][t.name].push(t.callback),this.pools[e][t.name].includes(t.callback)}emit(e,t,...n){this.pools[e]||(this.pools[e]={});const i=this.pools[e][t];i&&i.forEach((e=>{try{e(...n)}catch(i){s.error(`${t} monitor event exception！`,i)}}))}}const L=new F,I=(e,t=0,n=t)=>new Promise(((i,l)=>{e.setSelectionRange?setTimeout((()=>{e.setSelectionRange(t,n),e.focus(),i(!0)}),0):(s.error("Can not reset position!"),l())})),O=(e,t,n)=>{const{deviationStart:i=0,deviationEnd:l=0,direct:s=!1,select:o=!1}=n;let r="";if(e.selectionStart||0===e.selectionStart){const s=e.selectionStart,a=e.selectionEnd||0,{prefixVal:c=e.value.substring(0,s),subfixVal:u=e.value.substring(a,e.value.length)}=n;r=c+t+u,I(e,o?s+i:s+t.length+l,s+t.length+l)}else r+=t;return s&&(e.value=r),r},D=(e,t={newWindow:!0,nofollow:!0})=>{e||s.error("error link!");const n=document.createElement("a");n.href=e,n.style.display="none",t.newWindow&&(n.target="_blank"),t.nofollow&&(n.rel="noopener noreferrer"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},R=(e,t)=>{const n=P((()=>{e.removeEventListener("scroll",i),e.addEventListener("scroll",i),t.removeEventListener("scroll",i),t.addEventListener("scroll",i)}),50),i=l=>{const s=e.clientHeight,o=t.clientHeight,r=e.scrollHeight,a=t.scrollHeight,c=(r-s)/(a-o);l.target===e?(t.removeEventListener("scroll",i),t.scrollTo({top:e.scrollTop/c}),n()):(e.removeEventListener("scroll",i),e.scrollTo({top:t.scrollTop*c}),n())};return[()=>{n().finally((()=>{e.dispatchEvent(new Event("scroll"))}))},()=>{e.removeEventListener("scroll",i),t.removeEventListener("scroll",i)}]},j=(e,t="image.png")=>{const n=e.split(","),i=n[0].match(/:(.*?);/);if(i){const e=i[1],l=atob(n[1]);let s=l.length;const o=new Uint8Array(s);for(;s--;)o[s]=l.charCodeAt(s);return new File([o],t,{type:e})}return null},H=e=>{if(!e.trim())return e;const t=e.split("\n"),n=['<span rn-wrapper aria-hidden="true">'];return t.forEach((()=>{n.push("<span></span>")})),n.push("</span>"),`<span class="code-block">${e}</span>${n.join("")}`},P=(e,t=200)=>{let n=0;return(...i)=>new Promise((l=>{n&&(clearTimeout(n),l("cancel")),n=window.setTimeout((()=>{e.apply(void 0,i),n=0,l("done")}),t)}))},M=(e,t=200)=>{let n=0,i=null;return(...l)=>{const s=l=>{0===n&&(n=l),l-n>=t?(e.apply(void 0,i),i=null,n=0):window.requestAnimationFrame(s)};null===i&&window.requestAnimationFrame(s),i=l}},B=(e,t="$")=>{const n=e.split(t);let i=t,l="";for(let s=1;s<n.length;s++){if(!/\\$/.test(n[s])){i+=n[s]+t,l+=n[s];break}i+=n[s]+"$",l+=n[s]+"$"}return[i,l]},q=e=>{var t;return navigator.userAgent.indexOf("Firefox")>-1?e.value.substring(e.selectionStart,e.selectionEnd):(null==(t=window.getSelection())?void 0:t.toString())||""},U=(e,t)=>{const n=null==e?void 0:e.getBoundingClientRect();if(t===document.documentElement)return n.top-t.clientTop;const i=null==t?void 0:t.getBoundingClientRect();return n.top-i.top},N=(e,t)=>{const n={...e};return t.forEach((e=>{Reflect.deleteProperty(n,e)})),n},Z=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,V=(e,t)=>{const n=n=>{const i=e.parentElement||document.body,l=i.offsetWidth,s=i.offsetHeight,{clientWidth:o}=document.documentElement,{clientHeight:r}=document.documentElement,a=n.offsetX,c=n.offsetY,u=e=>{let n=e.x+document.body.scrollLeft-document.body.clientLeft-a,u=e.y+document.body.scrollTop-document.body.clientTop-c;n=n<1?1:n<o-l-1?n:o-l-1,u=u<1?1:u<r-s-1?u:r-s-1,t?t(n,u):(i.style.left=`${n}px`,i.style.top=`${u}px`)};document.addEventListener("mousemove",u);const d=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)};document.addEventListener("mouseup",d)};return e.addEventListener("mousedown",n),()=>{e.removeEventListener("mousedown",n)}},K=(e,t="")=>{const n=document.getElementById(e.id),i=t=>{"function"==typeof e.onload&&e.onload(t),e.removeEventListener("load",i)};n?""!==t&&"function"==typeof e.onload&&(Reflect.get(window,t)?e.dispatchEvent(new Event("load")):n.addEventListener("load",i)):(e.addEventListener("load",i),document.head.appendChild(e))},Y=P(((e,t,n)=>{const i=document.getElementById(e);i&&i.setAttribute(t,n)}),10),G="onSave",J="changeCatalogVisible",Q="changeFullscreen",X="pageFullscreenChanged",ee="fullscreenChanged",te="previewChanged",ne="htmlPreviewChanged",ie="catalogVisibleChanged",le="textareaFocus",se=(e,t)=>{const{editorId:n,noPrettier:s,previewOnly:o}=e,r=(0,i.qj)({buildFinished:!1,html:""}),a=t=>{if(t.target===document.querySelector(`#${e.editorId}-textarea`))if(L.emit(n,"selectTextChange"),t.ctrlKey||t.metaKey)switch(t.code){case"KeyS":t.shiftKey?L.emit(n,"replace","strikeThrough"):(L.emit(n,G,e.modelValue),t.preventDefault());break;case"KeyB":L.emit(n,"replace","bold"),t.preventDefault();break;case"KeyU":t.shiftKey?(L.emit(n,"replace","unorderedList"),t.preventDefault()):(L.emit(n,"replace","underline"),t.preventDefault());break;case"KeyI":t.shiftKey?(L.emit(n,"openModals","image"),t.preventDefault()):(L.emit(n,"replace","italic"),t.preventDefault());break;case"Digit1":L.emit(n,"replace","h1"),t.preventDefault();break;case"Digit2":L.emit(n,"replace","h2"),t.preventDefault();break;case"Digit3":L.emit(n,"replace","h3"),t.preventDefault();break;case"Digit4":L.emit(n,"replace","h4"),t.preventDefault();break;case"Digit5":L.emit(n,"replace","h5"),t.preventDefault();break;case"Digit6":L.emit(n,"replace","h6"),t.preventDefault();break;case"ArrowUp":L.emit(n,"replace","sup"),t.preventDefault();break;case"ArrowDown":L.emit(n,"replace","sub"),t.preventDefault();break;case"KeyQ":if("a"===t.key)return void t.target.select();L.emit(n,"replace","quote"),t.preventDefault();break;case"KeyA":if("q"===t.key){L.emit(n,"replace","quote"),t.preventDefault();break}return;case"KeyO":L.emit(n,"replace","orderedList"),t.preventDefault();break;case"KeyC":if(t.shiftKey)L.emit(n,"replace","code"),t.preventDefault();else{if(!t.altKey){t.preventDefault(),L.emit(n,"replace","ctrlC");break}L.emit(n,"replace","codeRow"),t.preventDefault()}break;case"KeyL":L.emit(n,"openModals","link"),t.preventDefault();break;case"KeyZ":if("w"===t.key)return;t.shiftKey?(L.emit(n,"ctrlShiftZ"),t.preventDefault()):(L.emit(n,"ctrlZ"),t.preventDefault());break;case"KeyW":if("z"===t.key){t.shiftKey?(L.emit(n,"ctrlShiftZ"),t.preventDefault()):(L.emit(n,"ctrlZ"),t.preventDefault());break}return;case"KeyF":t.shiftKey&&(s||(L.emit(n,"replace","prettier"),t.preventDefault()));break;case"KeyT":t.altKey&&t.shiftKey&&(L.emit(n,"replace","table"),t.preventDefault());break;case"KeyX":L.emit(n,"replace","ctrlX"),t.preventDefault();break;case"KeyD":t.preventDefault(),L.emit(n,"replace","ctrlD");break}else"Tab"===t.code&&(t.preventDefault(),t.shiftKey?L.emit(n,"replace","shiftTab"):L.emit(n,"replace","tab"))};(0,l.YP)((()=>e.modelValue),(()=>{r.buildFinished=!1})),(0,l.bv)((()=>{o||(window.addEventListener("keydown",a),L.on(n,{name:"buildFinished",callback(e){r.buildFinished=!0,r.html=e}}),L.on(n,{name:G,callback(){const i=new Promise((e=>{if(r.buildFinished)e(r.html);else{const t=i=>{e(i),L.remove(n,"buildFinished",t)};L.on(n,{name:"buildFinished",callback:t})}}));e.onSave?e.onSave(e.modelValue,i):t.emit("onSave",e.modelValue,i)}}))})),(0,l.Jd)((()=>{o||window.removeEventListener("keydown",a)}))},oe=e=>{var t;const{editorId:n,previewOnly:i}=e,s=null==(t=null==A?void 0:A.editorExtensions)?void 0:t.highlight;(0,l.JJ)("editorId",n),(0,l.JJ)("tabWidth",e.tabWidth),(0,l.JJ)("theme",(0,l.Fl)((()=>e.theme))),(0,l.JJ)("highlight",(0,l.Fl)((()=>{const t={...z,...null==s?void 0:s.css},n=e.codeStyleReverse&&e.codeStyleReverseList.includes(e.previewTheme)?"dark":e.theme;return{js:(null==s?void 0:s.js)||y,css:t[e.codeTheme]?t[e.codeTheme][n]:z.atom[n]}}))),(0,l.JJ)("historyLength",e.historyLength),(0,l.JJ)("previewOnly",i),(0,l.JJ)("showCodeRowNumber",e.showCodeRowNumber);const o=(0,l.Fl)((()=>{var t;const n={...E,...null==(t=null==A?void 0:A.editorConfig)?void 0:t.languageUserDefined};return n[e.language]?n[e.language]:E["zh-CN"]}));(0,l.JJ)("usedLanguageText",o),(0,l.JJ)("previewTheme",(0,l.Fl)((()=>e.previewTheme)))},re=e=>{var t,n,i,s,o,r;const{noPrettier:a,previewOnly:c,noIconfont:u,noUploadImg:d}=e,{editorExtensions:h}=A,p=a||!(null==(n=null==(t=A.editorExtensions)?void 0:t.prettier)||!n.prettierInstance),m=a||!(null==(s=null==(i=A.editorExtensions)?void 0:i.prettier)||!s.parserMarkdownInstance),g=d||!(null==(r=null==(o=A.editorExtensions)?void 0:o.cropper)||!r.instance);(0,l.bv)((()=>{var e,t,n,i;const l=document.createElement("script");l.src=(null==h?void 0:h.iconfont)||k,l.id=`${f}-icon`;const s=document.createElement("script"),o=document.createElement("script");s.src=(null==(e=null==h?void 0:h.prettier)?void 0:e.standaloneJs)||w.main,s.id=`${f}-prettier`,o.src=(null==(t=null==h?void 0:h.prettier)?void 0:t.parserMarkdownJs)||w.markdown,o.id=`${f}-prettierMD`;const r=document.createElement("link");r.rel="stylesheet",r.href=(null==(n=null==h?void 0:h.cropper)?void 0:n.css)||x.css,r.id=`${f}-cropperCss`;const a=document.createElement("script");a.src=(null==(i=null==h?void 0:h.cropper)?void 0:i.js)||x.js,a.id=`${f}-cropper`,u||K(l),c||(g||(K(r),K(a)),p||K(s),m||K(o))}))},ae=(e,t)=>{const{editorId:n,previewOnly:s}=e,o=(0,i.qj)({pageFullscreen:e.pageFullscreen,fullscreen:!1,preview:e.preview,htmlPreview:!e.preview&&e.htmlPreview}),r=(e,t)=>{o[e]=void 0===t?!o[e]:t,"preview"===e&&o.preview?o.htmlPreview=!1:"htmlPreview"===e&&o.htmlPreview&&(o.preview=!1)};let a="";const c=()=>{o.pageFullscreen||o.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=a};return(0,l.YP)((()=>[o.pageFullscreen,o.fullscreen]),c),(0,l.bv)((()=>{s||L.on(n,{name:"uploadImage",callback(i,l){const s=e=>{L.emit(n,"replace","image",{desc:"",urls:e}),l&&l()};e.onUploadImg?e.onUploadImg(i,s):t.emit("onUploadImg",i,s)}}),a=document.body.style.overflow,c()})),[o,r]},ce=e=>{const{editorId:t}=e,n=(0,i.iH)(!1);(0,l.bv)((()=>{L.on(t,{name:J,callback:e=>{n.value=void 0===e?!n.value:e}})}));const s=(0,l.Fl)((()=>!e.toolbarsExclude.includes("catalog")&&e.toolbars.includes("catalog")));return[n,s]},ue=(e,t,n,i,s)=>{const{editorId:o}=e;(0,l.YP)((()=>i.pageFullscreen),(e=>{L.emit(o,X,e)})),(0,l.YP)((()=>i.fullscreen),(e=>{L.emit(o,ee,e)})),(0,l.YP)((()=>i.preview),(e=>{L.emit(o,te,e)})),(0,l.YP)((()=>i.htmlPreview),(e=>{L.emit(o,ne,e)})),(0,l.YP)(n,(e=>{L.emit(o,ie,e)}));const r={on(e,t){switch(e){case"pageFullscreen":L.on(o,{name:X,callback(e){t(e)}});break;case"fullscreen":L.on(o,{name:ee,callback(e){t(e)}});break;case"preview":L.on(o,{name:te,callback(e){t(e)}});break;case"htmlPreview":L.on(o,{name:ne,callback(e){t(e)}});break;case"catalog":L.on(o,{name:ie,callback(e){t(e)}});break}},togglePageFullscreen(e){s("pageFullscreen",e)},toggleFullscreen(e){L.emit(o,Q,e)},togglePreview(e){s("preview",e)},toggleHtmlPreview(e){s("htmlPreview",e)},toggleCatalog(e){L.emit(o,J,e)},triggerSave(){L.emit(o,G)},insert(e){L.emit(o,"replace","universal",{generate:e})},focus(){L.emit(o,le)}};t.expose(r)},de=(0,l.aZ)({setup(){return()=>(0,l.Wm)("div",{class:`${f}-divider`},null)}}),he=({instance:e,ctx:t,props:n={}},i="default")=>{const l=(null==e?void 0:e.$slots[i])||(null==t?void 0:t.slots[i]);return(l?l(e):"")||n[i]},pe=()=>({trigger:{type:String,default:"hover"},overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}}),me=(0,l.aZ)({props:pe(),setup(e,t){const n=`${f}-dropdown-hidden`,s=(0,i.qj)({overlayClass:[n],overlayStyle:{},triggerHover:!1,overlayHover:!1}),o=(0,i.iH)(),r=(0,i.iH)(),a=()=>{var t;"hover"===e.trigger&&(s.triggerHover=!0);const n=o.value,i=r.value,l=n.getBoundingClientRect(),a=n.offsetTop,c=n.offsetLeft,u=l.height,d=l.width,h=(null==(t=document.querySelector(e.relative))?void 0:t.scrollLeft)||0;s.overlayStyle={...s.overlayStyle,top:a+u+"px",left:c-i.offsetWidth/2+d/2-h+"px"},e.onChange(!0)},c=()=>{s.overlayHover=!0};(0,l.YP)((()=>e.visible),(e=>{e?s.overlayClass=s.overlayClass.filter((e=>e!==n)):s.overlayClass.push(n)}));const u=t=>{const n=o.value,i=r.value;!n.contains(t.target)&&!i.contains(t.target)&&e.onChange(!1)};let d=-1;const h=t=>{o.value===t.target?s.triggerHover=!1:s.overlayHover=!1,clearTimeout(d),d=window.setTimeout((()=>{!s.overlayHover&&!s.triggerHover&&e.onChange(!1)}),10)};return(0,l.bv)((()=>{"click"===e.trigger?(o.value.addEventListener("click",a),document.addEventListener("click",u)):(o.value.addEventListener("mouseenter",a),o.value.addEventListener("mouseleave",h),r.value.addEventListener("mouseenter",c),r.value.addEventListener("mouseleave",h))})),(0,l.Jd)((()=>{"click"===e.trigger?(o.value.removeEventListener("click",a),document.removeEventListener("click",u)):(o.value.removeEventListener("mouseenter",a),o.value.removeEventListener("mouseleave",h),r.value.removeEventListener("mouseenter",c),r.value.removeEventListener("mouseleave",h))})),()=>{const n=he({ctx:t}),i=he({props:e,ctx:t},"overlay"),a=(0,l.Ho)(n instanceof Array?n[0]:n,{ref:o}),c=(0,l.Wm)("div",{class:[`${f}-dropdown`,s.overlayClass],style:s.overlayStyle,ref:r},[(0,l.Wm)("div",{class:`${f}-dropdown-overlay`},[i instanceof Array?i[0]:i])]);return[a,c]}}}),ge=()=>({title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function,default:()=>{}},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String}}),fe=(0,l.aZ)({props:ge(),setup(e,t){const n=(0,i.iH)(e.visible),s=(0,i.iH)([`${f}-modal`]),o=(0,i.iH)(),r=(0,i.iH)();let a=()=>{};const c=(0,i.qj)({initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),u=(0,l.Fl)((()=>e.isFullscreen?{width:"100%",height:"100%"}:{width:e.width,height:e.height}));return(0,l.bv)((()=>{a=V(r.value,((e,t)=>{c.initPos.left=e+"px",c.initPos.top=t+"px"}))})),(0,l.Jd)((()=>{a()})),(0,l.YP)((()=>e.isFullscreen),(e=>{e?a():a=V(r.value,((e,t)=>{c.initPos.left=e+"px",c.initPos.top=t+"px"}))})),(0,l.YP)((()=>e.visible),(e=>{e?(s.value.push("zoom-in"),n.value=e,(0,l.Y3)((()=>{const e=o.value.offsetWidth/2,t=o.value.offsetHeight/2,n=document.documentElement.clientWidth/2,i=document.documentElement.clientHeight/2;c.initPos.left=n-e+"px",c.initPos.top=i-t+"px"})),setTimeout((()=>{s.value=s.value.filter((e=>"zoom-in"!==e))}),140)):(s.value.push("zoom-out"),setTimeout((()=>{s.value=s.value.filter((e=>"zoom-out"!==e)),n.value=e}),130))})),()=>{const i=he({ctx:t}),a=he({props:e,ctx:t},"title");return(0,l.Wm)("div",{class:[e.class],style:{display:n.value?"block":"none"}},[(0,l.Wm)("div",{class:`${f}-modal-mask`,onClick:e.onClose},null),(0,l.Wm)("div",{class:s.value,style:{...c.initPos,...u.value},ref:o},[(0,l.Wm)("div",{class:`${f}-modal-header`,ref:r},[a||""]),(0,l.Wm)("div",{class:`${f}-modal-body`},[i]),(0,l.Wm)("div",{class:`${f}-modal-func`},[e.showAdjust&&(0,l.Wm)("div",{class:`${f}-modal-adjust`,onClick:t=>{t.stopPropagation(),e.isFullscreen?c.initPos=c.historyPos:(c.historyPos=c.initPos,c.initPos={left:"0",top:"0"}),e.onAdjust(!e.isFullscreen)}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-"+(e.isFullscreen?"suoxiao":"fangda")},null)])]),(0,l.Wm)("div",{class:`${f}-modal-close`,onClick:t=>{t.stopPropagation(),e.onClose&&e.onClose()}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-close"},null)])])])])])}}}),ve=()=>({type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}}),ke=(0,l.aZ)({props:ve(),setup(e){const t=(0,l.f3)("usedLanguageText"),n=(0,l.f3)("editorId"),s=(0,l.Fl)((()=>{var n,i;switch(e.type){case"link":return null==(n=t.value.linkModalTips)?void 0:n.linkTitle;case"image":return null==(i=t.value.linkModalTips)?void 0:i.imageTitle;default:return""}})),o=(0,i.qj)({desc:"",url:""});return(0,l.YP)((()=>e.visible),(e=>{e||setTimeout((()=>{o.desc="",o.url=""}),200)})),()=>(0,l.Wm)(fe,{title:s.value,visible:e.visible,onClose:e.onCancel},{default:()=>{var i,s,r,a,c;return[(0,l.Wm)("div",{class:`${f}-form-item`},[(0,l.Wm)("label",{class:`${f}-label`,for:`link-desc-${n}`},[null==(i=t.value.linkModalTips)?void 0:i.descLabel]),(0,l.Wm)("input",{placeholder:null==(s=t.value.linkModalTips)?void 0:s.descLabelPlaceHolder,class:`${f}-input`,id:`link-desc-${n}`,type:"text",value:o.desc,onChange:e=>{o.desc=e.target.value},autocomplete:"off"},null)]),(0,l.Wm)("div",{class:`${f}-form-item`},[(0,l.Wm)("label",{class:`${f}-label`,for:`link-url-${n}`},[null==(r=t.value.linkModalTips)?void 0:r.urlLabel]),(0,l.Wm)("input",{placeholder:null==(a=t.value.linkModalTips)?void 0:a.urlLabelPlaceHolder,class:`${f}-input`,id:`link-url-${n}`,type:"text",value:o.url,onChange:e=>{o.url=e.target.value},autocomplete:"off"},null)]),(0,l.Wm)("div",{class:`${f}-form-item`},[(0,l.Wm)("button",{class:[`${f}-btn`,`${f}-btn-row`],type:"button",onClick:()=>{e.onOk(o),o.desc="",o.url=""}},[null==(c=t.value.linkModalTips)?void 0:c.buttonOK])])]}})}}),be=()=>({visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}}),ye=(0,l.aZ)({props:be(),setup(e){var t,n;const s=(0,l.f3)("usedLanguageText"),o=(0,l.f3)("editorId");let r=null==(n=null==(t=null==A?void 0:A.editorExtensions)?void 0:t.cropper)?void 0:n.instance;const a=(0,i.iH)(),c=(0,i.iH)(),u=(0,i.iH)(),d=(0,i.qj)({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let h=null;(0,l.YP)((()=>e.visible),(()=>{e.visible&&!d.cropperInited&&(r=r||window.Cropper,a.value.onchange=()=>{if(!r)return void L.emit(o,"errorCatcher",{name:"Cropper",message:"Cropper is undefined"});const e=a.value.files||[];if(d.imgSelected=!0,(null==e?void 0:e.length)>0){const t=new FileReader;t.onload=e=>{d.imgSrc=e.target.result,(0,l.Y3)((()=>{h=new r(c.value,{viewMode:2,preview:`.${f}-clip-preview-target`})}))},t.readAsDataURL(e[0])}})})),(0,l.YP)((()=>[d.imgSelected]),(()=>{u.value.style=""})),(0,l.YP)((()=>d.isFullscreen),(()=>{(0,l.Y3)((()=>{null==h||h.destroy(),u.value.style="",c.value&&(h=new r(c.value,{viewMode:2,preview:`.${f}-clip-preview-target`}))}))}));const p=()=>{h.clear(),h.destroy(),h=null,a.value.value="",d.imgSelected=!1};return()=>{var t;return(0,l.Wm)(fe,{class:`${f}-modal-clip`,title:null==(t=s.value.clipModalTips)?void 0:t.title,visible:e.visible,onClose:e.onCancel,showAdjust:!0,isFullscreen:d.isFullscreen,onAdjust:e=>{d.isFullscreen=e},width:"668px",height:"421px"},{default:()=>{var t,n;return[(0,l.Wm)("div",{class:`${f}-form-item ${f}-clip`},[(0,l.Wm)("div",{class:`${f}-clip-main`},[d.imgSelected?(0,l.Wm)("div",{class:`${f}-clip-cropper`},[(0,l.Wm)("img",{src:d.imgSrc,ref:c,style:{display:"none"},alt:""},null),(0,l.Wm)("div",{class:`${f}-clip-delete`,onClick:p},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-delete"},null)])])]):(0,l.Wm)("div",{class:`${f}-clip-upload`,onClick:()=>{a.value.click()}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-upload"},null)])])]),(0,l.Wm)("div",{class:`${f}-clip-preview`},[(0,l.Wm)("div",{class:`${f}-clip-preview-target`,ref:u},null)])]),(0,l.Wm)("div",{class:`${f}-form-item`},[(0,l.Wm)("button",{class:`${f}-btn`,type:"button",onClick:()=>{if(h){const t=h.getCroppedCanvas();L.emit(o,"uploadImage",[j(t.toDataURL("image/png"))],e.onOk),p()}}},[(null==(t=s.value.clipModalTips)?void 0:t.buttonUpload)||(null==(n=s.value.linkModalTips)?void 0:n.buttonOK)])]),(0,l.Wm)("input",{ref:a,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),we=()=>({type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}}),xe=(0,l.aZ)({props:we(),setup(e){return()=>(0,l.Wm)(l.HY,null,[(0,l.Wm)(ke,{type:e.type,visible:e.linkVisible,onOk:e.onOk,onCancel:e.onCancel},null),(0,l.Wm)(ye,{visible:e.clipVisible,onOk:e.onOk,onCancel:e.onCancel},null)])}}),$e=e=>{var t,n,o,r;const a=(0,l.f3)("editorId");let c=null==(n=null==(t=A.editorExtensions)?void 0:t.screenfull)?void 0:n.instance;const u=null==(r=null==(o=A.editorExtensions)?void 0:o.screenfull)?void 0:r.js,d=(0,i.iH)(!1),h=e=>{c?c.isEnabled?(d.value=!0,(void 0===e?!c.isFullscreen:e)?c.request():c.exit()):s.error("browser does not support screenfull!"):L.emit(a,"errorCatcher",{name:"fullscreen",message:"fullscreen is undefined"})},p=()=>{c&&c.isEnabled&&c.on("change",(()=>{(d.value||e.setting.fullscreen)&&(d.value=!1,e.updateSetting("fullscreen"))}))},m=()=>{c=window.screenfull,p()};return(0,l.bv)((()=>{if(p(),!c){const e=document.createElement("script");e.src=u||$,e.onload=m,e.id=`${f}-screenfull`,K(e,"screenfull")}})),(0,l.bv)((()=>{L.on(a,{name:Q,callback:h})})),{fullscreenHandler:h}},Se=()=>({tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}}),Ce=(0,l.aZ)({name:"TableShape",props:Se(),setup(e){const t=(0,i.qj)({x:-1,y:-1});return()=>(0,l.Wm)("div",{class:`${f}-table-shape`,onMouseleave:()=>{t.x=-1,t.y=-1}},[new Array(e.tableShape[1]).fill("").map(((n,i)=>(0,l.Wm)("div",{class:`${f}-table-shape-row`,key:`table-shape-row-${i}`},[new Array(e.tableShape[0]).fill("").map(((n,s)=>(0,l.Wm)("div",{class:`${f}-table-shape-col`,key:`table-shape-col-${s}`,onMouseenter:()=>{t.x=i,t.y=s},onClick:()=>{e.onSelected(t)}},[(0,l.Wm)("div",{class:[`${f}-table-shape-col-default`,i<=t.x&&s<=t.y&&`${f}-table-shape-col-include`]},null)])))])))])}}),Ee=()=>({noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean}}),Te=(0,l.aZ)({name:"MDEditorToolbar",props:Ee(),setup(e){const t=(0,l.f3)("editorId"),n=(0,l.f3)("usedLanguageText"),{fullscreenHandler:s}=$e(e),o=`${t}-toolbar-wrapper`,r=(0,i.qj)({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),a=(e,n)=>{L.emit(t,"replace",e,n)},c=(0,i.qj)({type:"link",linkVisible:!1,clipVisible:!1}),u=(0,i.iH)();(0,l.bv)((()=>{L.on(t,{name:"openModals",callback(e){c.type=e,c.linkVisible=!0}})}));const d=(0,l.Fl)((()=>{const t=e.toolbars.filter((t=>!e.toolbarsExclude.includes(t))),n=t.indexOf("="),i=-1===n?t:t.slice(0,n+1),l=-1===n?[]:t.slice(n,Number.MAX_SAFE_INTEGER);return[i,l]})),h=(0,i.iH)(),p=()=>{L.emit(t,"uploadImage",Array.from(h.value.files||[])),h.value.value=""};(0,l.bv)((()=>{h.value.addEventListener("change",p)}));const m=i=>{var u,d,p,m,g,v,k,b,y,w,x,$,C,E,T,W,z,A,_,F,I,O,R,j,H,P,M,B,q,U,N,Z,V,K,Y,Q,X,ee,te,ne,ie,le,se;if(!S.includes(i))return e.defToolbars instanceof Array?e.defToolbars[i]||"":e.defToolbars&&e.defToolbars.children instanceof Array&&e.defToolbars.children[i]||"";switch(i){case"-":return(0,l.Wm)(de,null,null);case"bold":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(u=n.value.toolbarTips)?void 0:u.bold,onClick:()=>{a("bold")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-bold"},null)])]);case"underline":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(d=n.value.toolbarTips)?void 0:d.underline,onClick:()=>{a("underline")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-underline"},null)])]);case"italic":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(p=n.value.toolbarTips)?void 0:p.italic,onClick:()=>{a("italic")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-italic"},null)])]);case"strikeThrough":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(m=n.value.toolbarTips)?void 0:m.strikeThrough,onClick:()=>{a("strikeThrough")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-strike-through"},null)])]);case"title":return(0,l.Wm)(me,{relative:`#${o}`,visible:r.title,onChange:e=>{r.title=e},overlay:(0,l.Wm)("ul",{class:`${f}-menu`,onClick:()=>{r.title=!1}},[(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("h1")}},[null==(g=n.value.titleItem)?void 0:g.h1]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("h2")}},[null==(v=n.value.titleItem)?void 0:v.h2]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("h3")}},[null==(k=n.value.titleItem)?void 0:k.h3]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("h4")}},[null==(b=n.value.titleItem)?void 0:b.h4]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("h5")}},[null==(y=n.value.titleItem)?void 0:y.h5]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("h6")}},[null==(w=n.value.titleItem)?void 0:w.h6])])},{default:()=>{var e;return[(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(e=n.value.toolbarTips)?void 0:e.title},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-title"},null)])])]}});case"sub":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(x=n.value.toolbarTips)?void 0:x.sub,onClick:()=>{a("sub")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-sub"},null)])]);case"sup":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==($=n.value.toolbarTips)?void 0:$.sup,onClick:()=>{a("sup")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-sup"},null)])]);case"quote":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(C=n.value.toolbarTips)?void 0:C.quote,onClick:()=>{a("quote")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-quote"},null)])]);case"unorderedList":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(E=n.value.toolbarTips)?void 0:E.unorderedList,onClick:()=>{a("unorderedList")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-unordered-list"},null)])]);case"orderedList":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(T=n.value.toolbarTips)?void 0:T.orderedList,onClick:()=>{a("orderedList")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-ordered-list"},null)])]);case"task":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(W=n.value.toolbarTips)?void 0:W.task,onClick:()=>{a("task")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-task"},null)])]);case"codeRow":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(z=n.value.toolbarTips)?void 0:z.codeRow,onClick:()=>{a("codeRow")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-code-row"},null)])]);case"code":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(A=n.value.toolbarTips)?void 0:A.code,onClick:()=>{a("code")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-code"},null)])]);case"link":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(_=n.value.toolbarTips)?void 0:_.link,onClick:()=>{c.type="link",c.linkVisible=!0}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-link"},null)])]);case"image":return e.noUploadImg?(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(F=n.value.toolbarTips)?void 0:F.image,onClick:()=>{c.type="image",c.linkVisible=!0}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-image"},null)])]):(0,l.Wm)(me,{relative:`#${o}`,visible:r.image,onChange:e=>{r.image=e},overlay:(0,l.Wm)("ul",{class:`${f}-menu`,onClick:()=>{r.title=!1}},[(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{c.type="image",c.linkVisible=!0}},[null==(I=n.value.imgTitleItem)?void 0:I.link]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{h.value.click()}},[null==(O=n.value.imgTitleItem)?void 0:O.upload]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{c.clipVisible=!0}},[null==(R=n.value.imgTitleItem)?void 0:R.clip2upload])])},{default:()=>{var e;return[(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(e=n.value.toolbarTips)?void 0:e.image},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-image"},null)])])]}});case"table":return(0,l.Wm)(me,{relative:`#${o}`,visible:r.table,onChange:e=>{r.table=e},key:"bar-table",overlay:(0,l.Wm)(Ce,{tableShape:e.tableShape,onSelected:e=>{a("table",{selectedShape:e})}},null)},{default:()=>{var e;return[(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(e=n.value.toolbarTips)?void 0:e.table},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-table"},null)])])]}});case"revoke":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(j=n.value.toolbarTips)?void 0:j.revoke,onClick:()=>{L.emit(t,"ctrlZ")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-revoke"},null)])]);case"next":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(H=n.value.toolbarTips)?void 0:H.next,onClick:()=>{L.emit(t,"ctrlShiftZ")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-next"},null)])]);case"save":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(P=n.value.toolbarTips)?void 0:P.save,onClick:()=>{L.emit(t,G)}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-baocun"},null)])]);case"prettier":return e.noPrettier?"":(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(M=n.value.toolbarTips)?void 0:M.prettier,onClick:()=>{a("prettier")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-prettier"},null)])]);case"pageFullscreen":return!e.setting.fullscreen&&(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(B=n.value.toolbarTips)?void 0:B.pageFullscreen,onClick:()=>{e.updateSetting("pageFullscreen")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-"+(e.setting.pageFullscreen?"suoxiao":"fangda")},null)])]);case"fullscreen":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(q=n.value.toolbarTips)?void 0:q.fullscreen,onClick:()=>{s()}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-"+(e.setting.fullscreen?"fullscreen-exit":"fullscreen")},null)])]);case"preview":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(U=n.value.toolbarTips)?void 0:U.preview,onClick:()=>{e.updateSetting("preview")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-preview"},null)])]);case"htmlPreview":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(N=n.value.toolbarTips)?void 0:N.htmlPreview,onClick:()=>{e.updateSetting("htmlPreview")}},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-coding"},null)])]);case"catalog":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(Z=n.value.toolbarTips)?void 0:Z.catalog,onClick:()=>{L.emit(t,J)},key:"bar-catalog"},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-catalog"},null)])]);case"github":return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(V=n.value.toolbarTips)?void 0:V.github,onClick:()=>D("https://github.com/imzbf/md-editor-v3")},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-github"},null)])]);case"mermaid":return(0,l.Wm)(me,{relative:`#${o}`,visible:r.mermaid,onChange:e=>{r.mermaid=e},overlay:(0,l.Wm)("ul",{class:`${f}-menu`,onClick:()=>{r.mermaid=!1}},[(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("flow")}},[null==(K=n.value.mermaid)?void 0:K.flow]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("sequence")}},[null==(Y=n.value.mermaid)?void 0:Y.sequence]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("gantt")}},[null==(Q=n.value.mermaid)?void 0:Q.gantt]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("class")}},[null==(X=n.value.mermaid)?void 0:X.class]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("state")}},[null==(ee=n.value.mermaid)?void 0:ee.state]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("pie")}},[null==(te=n.value.mermaid)?void 0:te.pie]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("relationship")}},[null==(ne=n.value.mermaid)?void 0:ne.relationship]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("journey")}},[null==(ie=n.value.mermaid)?void 0:ie.journey])]),key:"bar-mermaid"},{default:()=>{var e;return[(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(e=n.value.toolbarTips)?void 0:e.mermaid},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-mermaid"},null)])])]}});case"katex":return(0,l.Wm)(me,{relative:`#${o}`,visible:r.katex,onChange:e=>{r.katex=e},overlay:(0,l.Wm)("ul",{class:`${f}-menu`,onClick:()=>{r.katex=!1}},[(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("katexInline")}},[null==(le=n.value.katex)?void 0:le.inline]),(0,l.Wm)("li",{class:`${f}-menu-item`,onClick:()=>{a("katexBlock")}},[null==(se=n.value.katex)?void 0:se.block])]),key:"bar-katex"},{default:()=>{var e;return[(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:null==(e=n.value.toolbarTips)?void 0:e.katex},[(0,l.Wm)("svg",{class:`${f}-icon`,"aria-hidden":"true"},[(0,l.Wm)("use",{"xlink:href":"#md-editor-icon-formula"},null)])])]}})}};return()=>{const t=d.value[0].map((e=>m(e))),n=d.value[1].map((e=>m(e)));return(0,l.Wm)(l.HY,null,[e.toolbars.length>0&&(0,l.Wm)("div",{class:`${f}-toolbar-wrapper`,id:o},[(0,l.Wm)("div",{class:`${f}-toolbar`},[(0,l.Wm)("div",{class:`${f}-toolbar-left`,ref:u},[t]),(0,l.Wm)("div",{class:`${f}-toolbar-right`},[n])])]),(0,l.Wm)("input",{ref:h,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),(0,l.Wm)(xe,{linkVisible:c.linkVisible,clipVisible:c.clipVisible,type:c.type,onCancel:()=>{c.linkVisible=!1,c.clipVisible=!1},onOk:e=>{e&&a(c.type,{desc:e.desc,url:e.url}),c.linkVisible=!1,c.clipVisible=!1}},null)])}}});function We(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ze=We();function Ae(e){ze=e}const _e=/[&<>"']/,Fe=new RegExp(_e.source,"g"),Le=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ie=new RegExp(Le.source,"g"),Oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},De=e=>Oe[e];function Re(e,t){if(t){if(_e.test(e))return e.replace(Fe,De)}else if(Le.test(e))return e.replace(Ie,De);return e}const je=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function He(e){return e.replace(je,((e,t)=>(t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")))}const Pe=/(^|[^\[])\^/g;function Me(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,i)=>(i=i.source||i,i=i.replace(Pe,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n}const Be=/[^\w:]/g,qe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ue(e,t,n){if(e){let e;try{e=decodeURIComponent(He(n)).replace(Be,"").toLowerCase()}catch{return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!qe.test(n)&&(n=Ye(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Ne={},Ze=/^[^:]+:\/*[^/]*$/,Ve=/^([^:]+:)[\s\S]*$/,Ke=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ye(e,t){Ne[" "+e]||(Ze.test(e)?Ne[" "+e]=e+"/":Ne[" "+e]=Xe(e,"/",!0)),e=Ne[" "+e];const n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Ve,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(Ke,"$1")+t:e+t}const Ge={exec:function(){}};function Je(e){let t,n,i=1;for(;i<arguments.length;i++)for(n in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Qe(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let i=!1,l=t;for(;--l>=0&&"\\"===n[l];)i=!i;return i?"|":" |"})),i=n.split(/ \|/);let l=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;l<i.length;l++)i[l]=i[l].trim().replace(/\\\|/g,"|");return i}function Xe(e,t,n){const i=e.length;if(0===i)return"";let l=0;for(;l<i;){const s=e.charAt(i-l-1);if(s!==t||n){if(s===t||!n)break;l++}else l++}return e.slice(0,i-l)}function et(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let i=0,l=0;for(;l<n;l++)if("\\"===e[l])l++;else if(e[l]===t[0])i++;else if(e[l]===t[1]&&(i--,i<0))return l;return-1}function tt(e){e&&e.sanitize&&!e.silent&&s.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function nt(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function it(e,t,n,i){const l=t.href,s=t.title?Re(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;const e={type:"link",raw:n,href:l,title:s,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,e}return{type:"image",raw:n,href:l,title:s,text:Re(o)}}function lt(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const i=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=i.length?e.slice(i.length):e})).join("\n")}class st{constructor(e){this.options=e||ze}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Xe(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=lt(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=Xe(e,"#");(this.options.pedantic||!t||/ $/.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:i,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,l,s,o,r,a,c,u,d,h,p,m=t[1].trim();const g=m.length>1,f={type:"list",raw:"",ordered:g,start:g?+m.slice(0,-1):"",loose:!1,items:[]};m=g?`\\d{1,9}\\${m.slice(-1)}`:`\\${m}`,this.options.pedantic&&(m=g?m:"[*+-]");const v=new RegExp(`^( {0,3}${m})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,(t=v.exec(e))&&!this.rules.block.hr.test(e));){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),u=e.split("\n",1)[0],this.options.pedantic?(s=2,h=c.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,h=c.slice(s),s+=t[1].length),r=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),i=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),l=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(d=e.split("\n",1)[0],u=d,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(l.test(u)||o.test(u)||t.test(u)||i.test(e)));){if(u.search(/[^ ]/)>=s||!u.trim())h+="\n"+u.slice(s);else{if(r||c.search(/[^ ]/)>=4||l.test(c)||o.test(c)||i.test(c))break;h+="\n"+u}!r&&!u.trim()&&(r=!0),n+=d+"\n",e=e.substring(d.length+1),c=u.slice(s)}}f.loose||(a?f.loose=!0:/\n *\n *$/.test(n)&&(a=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(h),i&&(l="[ ] "!==i[0],h=h.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:n,task:!!i,checked:l,loose:!1,text:h}),f.raw+=n}f.items[f.items.length-1].raw=n.trimRight(),f.items[f.items.length-1].text=h.trimRight(),f.raw=f.raw.trimRight();const k=f.items.length;for(o=0;o<k;o++)if(this.lexer.state.top=!1,f.items[o].tokens=this.lexer.blockTokens(f.items[o].text,[]),!f.loose){const e=f.items[o].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));f.loose=t}if(f.loose)for(o=0;o<k;o++)f.items[o].loose=!0;return f}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):Re(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:Qe(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,i,l,s,o=e.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(o=e.rows.length,n=0;n<o;n++)e.rows[n]=Qe(e.rows[n],e.header.length).map((e=>({text:e})));for(o=e.header.length,i=0;i<o;i++)e.header[i].tokens=this.lexer.inline(e.header[i].text);for(o=e.rows.length,i=0;i<o;i++)for(s=e.rows[i],l=0;l<s.length;l++)s[l].tokens=this.lexer.inline(s[l].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Re(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Re(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=Xe(e.slice(0,-1),"\\");if((e.length-t.length)%2===0)return}else{const e=et(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),it(t,{href:n&&n.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return it(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;const l=i[1]||i[2]||"";if(!l||l&&(""===n||this.rules.inline.punctuation.exec(n))){const n=i[0].length-1;let l,s,o=n,r=0;const a="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(a.lastIndex=0,t=t.slice(-1*e.length+n);null!=(i=a.exec(t));){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(s=l.length,i[3]||i[4]){o+=s;continue}if((i[5]||i[6])&&n%3&&!((n+s)%3)){r+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+r);const t=e.slice(0,n+i.index+(i[0].length-l.length)+s);if(Math.min(n,s)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const a=t.slice(2,-2);return{type:"strong",raw:t,text:a,tokens:this.lexer.inlineTokens(a)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return n&&i&&(e=e.substring(1,e.length-1)),e=Re(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,i;return"@"===n[2]?(e=Re(this.options.mangle?t(n[1]):n[1]),i="mailto:"+e):(e=Re(n[1]),i=e),{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,i;if("@"===n[2])e=Re(this.options.mangle?t(n[0]):n[0]),i="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=Re(n[0]),i="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Re(n[0]):n[0]:Re(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const ot={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ge,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};ot.def=Me(ot.def).replace("label",ot._label).replace("title",ot._title).getRegex(),ot.bullet=/(?:[*+-]|\d{1,9}[.)])/,ot.listItemStart=Me(/^( *)(bull) */).replace("bull",ot.bullet).getRegex(),ot.list=Me(ot.list).replace(/bull/g,ot.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ot.def.source+")").getRegex(),ot._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ot._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ot.html=Me(ot.html,"i").replace("comment",ot._comment).replace("tag",ot._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ot.paragraph=Me(ot._paragraph).replace("hr",ot.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ot._tag).getRegex(),ot.blockquote=Me(ot.blockquote).replace("paragraph",ot.paragraph).getRegex(),ot.normal=Je({},ot),ot.gfm=Je({},ot.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ot.gfm.table=Me(ot.gfm.table).replace("hr",ot.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ot._tag).getRegex(),ot.gfm.paragraph=Me(ot._paragraph).replace("hr",ot.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ot.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ot._tag).getRegex(),ot.pedantic=Je({},ot.normal,{html:Me("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ot._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ge,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Me(ot.normal._paragraph).replace("hr",ot.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ot.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const rt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ge,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ge,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function at(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ct(e){let t,n,i="";const l=e.length;for(t=0;t<l;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}rt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",rt.punctuation=Me(rt.punctuation).replace(/punctuation/g,rt._punctuation).getRegex(),rt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,rt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,rt._comment=Me(ot._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),rt.emStrong.lDelim=Me(rt.emStrong.lDelim).replace(/punct/g,rt._punctuation).getRegex(),rt.emStrong.rDelimAst=Me(rt.emStrong.rDelimAst,"g").replace(/punct/g,rt._punctuation).getRegex(),rt.emStrong.rDelimUnd=Me(rt.emStrong.rDelimUnd,"g").replace(/punct/g,rt._punctuation).getRegex(),rt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,rt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,rt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,rt.autolink=Me(rt.autolink).replace("scheme",rt._scheme).replace("email",rt._email).getRegex(),rt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,rt.tag=Me(rt.tag).replace("comment",rt._comment).replace("attribute",rt._attribute).getRegex(),rt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,rt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,rt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,rt.link=Me(rt.link).replace("label",rt._label).replace("href",rt._href).replace("title",rt._title).getRegex(),rt.reflink=Me(rt.reflink).replace("label",rt._label).replace("ref",ot._label).getRegex(),rt.nolink=Me(rt.nolink).replace("ref",ot._label).getRegex(),rt.reflinkSearch=Me(rt.reflinkSearch,"g").replace("reflink",rt.reflink).replace("nolink",rt.nolink).getRegex(),rt.normal=Je({},rt),rt.pedantic=Je({},rt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Me(/^!?\[(label)\]\((.*?)\)/).replace("label",rt._label).getRegex(),reflink:Me(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rt._label).getRegex()}),rt.gfm=Je({},rt.normal,{escape:Me(rt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),rt.gfm.url=Me(rt.gfm.url,"i").replace("email",rt.gfm._extended_email).getRegex(),rt.breaks=Je({},rt.gfm,{br:Me(rt.br).replace("{2,}","*").getRegex(),text:Me(rt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class ut{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ze,this.options.tokenizer=this.options.tokenizer||new st,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ot.normal,inline:rt.normal};this.options.pedantic?(t.block=ot.pedantic,t.inline=rt.pedantic):this.options.gfm&&(t.block=ot.gfm,this.options.breaks?t.inline=rt.breaks:t.inline=rt.gfm),this.tokenizer.rules=t}static get rules(){return{block:ot,inline:rt}}static lex(e,t){return new ut(t).lex(e)}static lexInline(e,t){return new ut(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,i,l,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0))))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(n):(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(l=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(l=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(l))){i=t[t.length-1],o&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),o=l.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){s.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,l,o,r,a,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,o.index)+"["+nt("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,o.index)+"["+nt("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,o.index+o[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(r||(a=""),r=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0))))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,c,a)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,ct)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,ct))){e=e.substring(n.raw.length),t.push(n);continue}if(l=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(l=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(l,at)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),r=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){s.error(t);break}throw new Error(t)}}return t}}class dt{constructor(e){this.options=e||ze}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+Re(i)+'">'+(n?e:Re(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Re(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,i){if(this.options.headerIds){const l=this.options.headerPrefix+i.slug(n);return`<h${t} id="${l}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul",l=t&&1!==n?' start="'+n+'"':"";return"<"+i+l+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=Ue(this.options.sanitize,this.options.baseUrl,e),null===e)return n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(e=Ue(this.options.sanitize,this.options.baseUrl,e),null===e)return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class ht{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class pt{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{i++,n=e+"-"+i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class mt{constructor(e){this.options=e||ze,this.options.renderer=this.options.renderer||new dt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ht,this.slugger=new pt}static parse(e,t){return new mt(t).parse(e)}static parseInline(e,t){return new mt(t).parseInline(e)}parse(e,t=!0){let n,i,l,o,r,a,c,u,d,h,p,m,g,f,v,k,b,y,w,x="";const $=e.length;for(n=0;n<$;n++)if(h=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(w=this.options.extensions.renderers[h.type].call({parser:this},h),!1!==w||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)))x+=w||"";else switch(h.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(h.tokens),h.depth,He(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(u="",c="",o=h.header.length,i=0;i<o;i++)c+=this.renderer.tablecell(this.parseInline(h.header[i].tokens),{header:!0,align:h.align[i]});for(u+=this.renderer.tablerow(c),d="",o=h.rows.length,i=0;i<o;i++){for(a=h.rows[i],c="",r=a.length,l=0;l<r;l++)c+=this.renderer.tablecell(this.parseInline(a[l].tokens),{header:!1,align:h.align[l]});d+=this.renderer.tablerow(c)}x+=this.renderer.table(u,d);continue;case"blockquote":d=this.parse(h.tokens),x+=this.renderer.blockquote(d);continue;case"list":for(p=h.ordered,m=h.start,g=h.loose,o=h.items.length,d="",i=0;i<o;i++)v=h.items[i],k=v.checked,b=v.task,f="",v.task&&(y=this.renderer.checkbox(k),g?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=y+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=y+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:y}):f+=y),f+=this.parse(v.tokens,g),d+=this.renderer.listitem(f,b,k);x+=this.renderer.list(d,p,m);continue;case"html":x+=this.renderer.html(h.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(d=h.tokens?this.parseInline(h.tokens):h.text;n+1<$&&"text"===e[n+1].type;)h=e[++n],d+="\n"+(h.tokens?this.parseInline(h.tokens):h.text);x+=t?this.renderer.paragraph(d):d;continue;default:{const e='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void s.error(e);throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,i,l,o="";const r=e.length;for(n=0;n<r;n++)if(i=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(l=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==l||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))o+=l||"";else switch(i.type){case"escape":o+=t.text(i.text);break;case"html":o+=t.html(i.text);break;case"link":o+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":o+=t.image(i.href,i.title,i.text);break;case"strong":o+=t.strong(this.parseInline(i.tokens,t));break;case"em":o+=t.em(this.parseInline(i.tokens,t));break;case"codespan":o+=t.codespan(i.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(i.tokens,t));break;case"text":o+=t.text(i.text);break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void s.error(e);throw new Error(e)}}return o}}function gt(e,t,n){if(typeof e>"u"||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=Je({},gt.defaults,t||{}),tt(t),n){const i=t.highlight;let s;try{s=ut.lex(e,t)}catch(l){return n(l)}const o=function(e){let l;if(!e)try{t.walkTokens&&gt.walkTokens(s,t.walkTokens),l=mt.parse(s,t)}catch(o){e=o}return t.highlight=i,e?n(e):n(null,l)};if(!i||i.length<3||(delete t.highlight,!s.length))return o();let r=0;return gt.walkTokens(s,(function(e){"code"===e.type&&(r++,setTimeout((()=>{i(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),r--,0===r&&o()}))}),0))})),void(0===r&&o())}function i(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Re(e.message+"",!0)+"</pre>";throw e}try{const n=ut.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(gt.walkTokens(n,t.walkTokens)).then((()=>mt.parse(n,t))).catch(i);gt.walkTokens(n,t.walkTokens)}return mt.parse(n,t)}catch(s){i(s)}}gt.options=gt.setOptions=function(e){return Je(gt.defaults,e),Ae(gt.defaults),gt},gt.getDefaults=We,gt.defaults=ze,gt.use=function(...e){const t=gt.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n=Je({},e);if(n.async=gt.defaults.async||n.async,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let i=e.renderer.apply(this,t);return!1===i&&(i=n.apply(this,t)),i}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=gt.defaults.renderer||new dt;for(const n in e.renderer){const i=t[n];t[n]=(...l)=>{let s=e.renderer[n].apply(t,l);return!1===s&&(s=i.apply(t,l)),s}}n.renderer=t}if(e.tokenizer){const t=gt.defaults.tokenizer||new st;for(const n in e.tokenizer){const i=t[n];t[n]=(...l)=>{let s=e.tokenizer[n].apply(t,l);return!1===s&&(s=i.apply(t,l)),s}}n.tokenizer=t}if(e.walkTokens){const t=gt.defaults.walkTokens;n.walkTokens=function(n){let i=[];return i.push(e.walkTokens.call(this,n)),t&&(i=i.concat(t.call(this,n))),i}}gt.setOptions(n)}))},gt.walkTokens=function(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(gt,i)),i.type){case"table":for(const e of i.header)n=n.concat(gt.walkTokens(e.tokens,t));for(const e of i.rows)for(const i of e)n=n.concat(gt.walkTokens(i.tokens,t));break;case"list":n=n.concat(gt.walkTokens(i.items,t));break;default:gt.defaults.extensions&&gt.defaults.extensions.childTokens&&gt.defaults.extensions.childTokens[i.type]?gt.defaults.extensions.childTokens[i.type].forEach((function(e){n=n.concat(gt.walkTokens(i[e],t))})):i.tokens&&(n=n.concat(gt.walkTokens(i.tokens,t)))}return n},gt.parseInline=function(e,t){if(typeof e>"u"||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Je({},gt.defaults,t||{}),tt(t);try{const n=ut.lexInline(e,t);return t.walkTokens&&gt.walkTokens(n,t.walkTokens),mt.parseInline(n,t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Re(n.message+"",!0)+"</pre>";throw n}},gt.Parser=mt,gt.parser=mt.parse,gt.Renderer=dt,gt.TextRenderer=ht,gt.Lexer=ut,gt.lexer=ut.lex,gt.Tokenizer=st,gt.Slugger=pt,gt.parse=gt,gt.options,gt.setOptions,gt.use,gt.walkTokens,gt.parseInline,mt.parse,ut.lex;var ft=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}},vt=ft,kt={"text/plain":"Text","text/html":"Url",default:"Text"},bt="Copy to clipboard: #{key}, Enter";function yt(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function wt(e,t){var n,i,l,o,r,a,c=!1;t||(t={}),n=t.debug||!1;try{l=vt(),o=document.createRange(),r=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",(function(i){if(i.stopPropagation(),t.format)if(i.preventDefault(),typeof i.clipboardData>"u"){n&&s.warn("unable to use e.clipboardData"),n&&s.warn("trying IE specific stuff"),window.clipboardData.clearData();var l=kt[t.format]||kt.default;window.clipboardData.setData(l,e)}else i.clipboardData.clearData(),i.clipboardData.setData(t.format,e);t.onCopy&&(i.preventDefault(),t.onCopy(i.clipboardData))})),document.body.appendChild(a),o.selectNodeContents(a),r.addRange(o);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&s.error("unable to copy using execCommand: ",d),n&&s.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(h){n&&s.error("unable to copy using clipboardData: ",h),n&&s.error("falling back to prompt"),i=yt("message"in t?t.message:bt),window.prompt(i,e)}}finally{r&&("function"==typeof r.removeRange?r.removeRange(o):r.removeAllRanges()),a&&document.body.removeChild(a),l()}return c}var xt=wt,$t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},St=function(e){return"IMG"===e.tagName},Ct=function(e){return NodeList.prototype.isPrototypeOf(e)},Et=function(e){return e&&1===e.nodeType},Tt=function(e){var t=e.currentSrc||e.src;return".svg"===t.substr(-4).toLowerCase()},Wt=function(e){try{return Array.isArray(e)?e.filter(St):Ct(e)?[].slice.call(e).filter(St):Et(e)?[e].filter(St):"string"==typeof e?[].slice.call(document.querySelectorAll(e)).filter(St):[]}catch{throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},zt=function(e){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.background=e,t},At=function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.left,l=t.width,s=t.height,o=e.cloneNode(),r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return o.removeAttribute("id"),o.style.position="absolute",o.style.top=n+r+"px",o.style.left=i+a+"px",o.style.width=l+"px",o.style.height=s+"px",o.style.transform="",o},_t=function(e,t){var n=$t({bubbles:!1,cancelable:!1,detail:void 0},t);if("function"==typeof window.CustomEvent)return new CustomEvent(e,n);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i},Ft=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=window.Promise||function(e){function t(){}e(t,t)},l=function(e){var t=e.target;t!==E?-1!==y.indexOf(t)&&f({target:t}):g()},o=function(){if(!x&&C.original){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs($-e)>S.scrollOffset&&setTimeout(g,150)}},r=function(e){var t=e.key||e.keyCode;("Escape"===t||"Esc"===t||27===t)&&g()},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;if(e.background&&(E.style.background=e.background),e.container&&e.container instanceof Object&&(t.container=$t({},S.container,e.container)),e.template){var n=Et(e.template)?e.template:document.querySelector(e.template);t.template=n}return S=$t({},S,t),y.forEach((function(e){e.dispatchEvent(_t("medium-zoom:update",{detail:{zoom:T}}))})),T},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e($t({},S,t))},u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return[].concat(e,Wt(t))}),[]);return i.filter((function(e){return-1===y.indexOf(e)})).forEach((function(e){y.push(e),e.classList.add("medium-zoom-image")})),w.forEach((function(e){var t=e.type,n=e.listener,l=e.options;i.forEach((function(e){e.addEventListener(t,n,l)}))})),T},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];C.zoomed&&g();var i=t.length>0?t.reduce((function(e,t){return[].concat(e,Wt(t))}),[]):y;return i.forEach((function(e){e.classList.remove("medium-zoom-image"),e.dispatchEvent(_t("medium-zoom:detach",{detail:{zoom:T}}))})),y=y.filter((function(e){return-1===i.indexOf(e)})),T},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.forEach((function(i){i.addEventListener("medium-zoom:"+e,t,n)})),w.push({type:"medium-zoom:"+e,listener:t,options:n}),T},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.forEach((function(i){i.removeEventListener("medium-zoom:"+e,t,n)})),w=w.filter((function(n){return!(n.type==="medium-zoom:"+e&&n.listener.toString()===t.toString())})),T},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=function(){var e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},t=void 0,n=void 0;if(S.container)if(S.container instanceof Object)e=$t({},e,S.container),t=e.width-e.left-e.right-2*S.margin,n=e.height-e.top-e.bottom-2*S.margin;else{var i=Et(S.container)?S.container:document.querySelector(S.container),l=i.getBoundingClientRect(),s=l.width,o=l.height,r=l.left,a=l.top;e=$t({},e,{width:s,height:o,left:r,top:a})}t=t||e.width-2*S.margin,n=n||e.height-2*S.margin;var c=C.zoomedHd||C.original,u=Tt(c)?t:c.naturalWidth||t,d=Tt(c)?n:c.naturalHeight||n,h=c.getBoundingClientRect(),p=h.top,m=h.left,g=h.width,f=h.height,v=Math.min(Math.max(g,u),t)/g,k=Math.min(Math.max(f,d),n)/f,b=Math.min(v,k),y=((t-g)/2-m+S.margin+e.left)/b,w=((n-f)/2-p+S.margin+e.top)/b,x="scale("+b+") translate3d("+y+"px, "+w+"px, 0)";C.zoomed.style.transform=x,C.zoomedHd&&(C.zoomedHd.style.transform=x)};return new i((function(e){if(t&&-1===y.indexOf(t))e(T);else{var i=function t(){x=!1,C.zoomed.removeEventListener("transitionend",t),C.original.dispatchEvent(_t("medium-zoom:opened",{detail:{zoom:T}})),e(T)};if(C.zoomed)e(T);else{if(t)C.original=t;else{if(!(y.length>0))return void e(T);var l=y;C.original=l[0]}if(C.original.dispatchEvent(_t("medium-zoom:open",{detail:{zoom:T}})),$=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,x=!0,C.zoomed=At(C.original),document.body.appendChild(E),S.template){var o=Et(S.template)?S.template:document.querySelector(S.template);C.template=document.createElement("div"),C.template.appendChild(o.content.cloneNode(!0)),document.body.appendChild(C.template)}if(C.original.parentElement&&"PICTURE"===C.original.parentElement.tagName&&C.original.currentSrc&&(C.zoomed.src=C.original.currentSrc),document.body.appendChild(C.zoomed),window.requestAnimationFrame((function(){document.body.classList.add("medium-zoom--opened")})),C.original.classList.add("medium-zoom-image--hidden"),C.zoomed.classList.add("medium-zoom-image--opened"),C.zoomed.addEventListener("click",g),C.zoomed.addEventListener("transitionend",i),C.original.getAttribute("data-zoom-src")){C.zoomedHd=C.zoomed.cloneNode(),C.zoomedHd.removeAttribute("srcset"),C.zoomedHd.removeAttribute("sizes"),C.zoomedHd.removeAttribute("loading"),C.zoomedHd.src=C.zoomed.getAttribute("data-zoom-src"),C.zoomedHd.onerror=function(){clearInterval(r),s.warn("Unable to reach the zoom image target "+C.zoomedHd.src),C.zoomedHd=null,n()};var r=setInterval((function(){C.zoomedHd.complete&&(clearInterval(r),C.zoomedHd.classList.add("medium-zoom-image--opened"),C.zoomedHd.addEventListener("click",g),document.body.appendChild(C.zoomedHd),n())}),10)}else if(C.original.hasAttribute("srcset")){C.zoomedHd=C.zoomed.cloneNode(),C.zoomedHd.removeAttribute("sizes"),C.zoomedHd.removeAttribute("loading");var a=C.zoomedHd.addEventListener("load",(function(){C.zoomedHd.removeEventListener("load",a),C.zoomedHd.classList.add("medium-zoom-image--opened"),C.zoomedHd.addEventListener("click",g),document.body.appendChild(C.zoomedHd),n()}))}else n()}}}))},g=function(){return new i((function(e){if(!x&&C.original){var t=function t(){C.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(C.zoomed),C.zoomedHd&&document.body.removeChild(C.zoomedHd),document.body.removeChild(E),C.zoomed.classList.remove("medium-zoom-image--opened"),C.template&&document.body.removeChild(C.template),x=!1,C.zoomed.removeEventListener("transitionend",t),C.original.dispatchEvent(_t("medium-zoom:closed",{detail:{zoom:T}})),C.original=null,C.zoomed=null,C.zoomedHd=null,C.template=null,e(T)};x=!0,document.body.classList.remove("medium-zoom--opened"),C.zoomed.style.transform="",C.zoomedHd&&(C.zoomedHd.style.transform=""),C.template&&(C.template.style.transition="opacity 150ms",C.template.style.opacity=0),C.original.dispatchEvent(_t("medium-zoom:close",{detail:{zoom:T}})),C.zoomed.addEventListener("transitionend",t)}else e(T)}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target;return C.original?g():m({target:t})},v=function(){return S},k=function(){return y},b=function(){return C.original},y=[],w=[],x=!1,$=0,S=n,C={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(t)?S=t:(t||"string"==typeof t)&&u(t),S=$t({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},S);var E=zt(S.background);document.addEventListener("click",l),document.addEventListener("keyup",r),document.addEventListener("scroll",o),window.addEventListener("resize",g);var T={open:m,close:g,toggle:f,update:a,clone:c,attach:u,detach:d,on:h,off:p,getOptions:v,getImages:k,getZoomedImage:b};return T};
/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */function Lt(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===n&&i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var It=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Lt(It);const Ot=Ft,Dt="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,Rt=new Set,jt=(e,t,n,i)=>{"object"==typeof o&&o&&"function"==typeof o.emitWarning?o.emitWarning(e,t,n,i):s.error(`[${n}] ${t}: ${e}`)},Ht=e=>!Rt.has(e),Pt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),Mt=e=>Pt(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Bt:null:null;class Bt extends Array{constructor(e){super(e),this.fill(0)}}var qt;const Ut=class{constructor(e,t){if(c(this,"heap"),c(this,"length"),!d(Ut,qt))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}static create(e){const t=Mt(e);if(!t)return[];p(Ut,qt,!0);const n=new Ut(e,t);return p(Ut,qt,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};let Nt=Ut;var Zt,Vt,Kt,Yt,Gt,Jt,Qt,Xt,en,tn,nn,ln,sn,on,rn,an,cn,un,dn,hn,pn,mn,gn,fn,vn,kn,bn,yn,wn,xn,$n,Sn,Cn,En,Tn,Wn,zn,An,_n,Fn,Ln,In,On,Dn,Rn,jn,Hn,Pn,Mn;qt=new WeakMap,h(Nt,qt,!1);const Bn=class{constructor(e){h(this,gn),h(this,wn),h(this,En),h(this,Wn),h(this,An),h(this,Fn),h(this,In),h(this,Dn),h(this,jn),h(this,Pn),h(this,Zt,void 0),h(this,Vt,void 0),h(this,Kt,void 0),h(this,Yt,void 0),h(this,Gt,void 0),c(this,"ttl"),c(this,"ttlResolution"),c(this,"ttlAutopurge"),c(this,"updateAgeOnGet"),c(this,"updateAgeOnHas"),c(this,"allowStale"),c(this,"noDisposeOnSet"),c(this,"noUpdateTTL"),c(this,"maxEntrySize"),c(this,"sizeCalculation"),c(this,"noDeleteOnFetchRejection"),c(this,"noDeleteOnStaleGet"),c(this,"allowStaleOnFetchAbort"),c(this,"allowStaleOnFetchRejection"),c(this,"ignoreFetchAbort"),h(this,Jt,void 0),h(this,Qt,void 0),h(this,Xt,void 0),h(this,en,void 0),h(this,tn,void 0),h(this,nn,void 0),h(this,ln,void 0),h(this,sn,void 0),h(this,on,void 0),h(this,rn,void 0),h(this,an,void 0),h(this,cn,void 0),h(this,un,void 0),h(this,dn,void 0),h(this,hn,void 0),h(this,pn,void 0),h(this,mn,void 0),h(this,vn,(()=>{})),h(this,kn,(()=>{})),h(this,bn,(()=>{})),h(this,yn,(()=>!1)),h(this,$n,(e=>{})),h(this,Sn,((e,t,n)=>{})),h(this,Cn,((e,t,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}));const{max:t=0,ttl:n,ttlResolution:i=1,ttlAutopurge:l,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:r,dispose:a,disposeAfter:u,noDisposeOnSet:m,noUpdateTTL:f,maxSize:v=0,maxEntrySize:k=0,sizeCalculation:b,fetchMethod:y,noDeleteOnFetchRejection:w,noDeleteOnStaleGet:x,allowStaleOnFetchRejection:$,allowStaleOnFetchAbort:S,ignoreFetchAbort:C}=e;if(0!==t&&!Pt(t))throw new TypeError("max option must be a nonnegative integer");const E=t?Mt(t):Array;if(!E)throw new Error("invalid max value: "+t);if(p(this,Zt,t),p(this,Vt,v),this.maxEntrySize=k||d(this,Vt),this.sizeCalculation=b,this.sizeCalculation){if(!d(this,Vt)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==y&&"function"!=typeof y)throw new TypeError("fetchMethod must be a function if specified");if(p(this,Gt,y),p(this,pn,!!y),p(this,Xt,new Map),p(this,en,new Array(t).fill(void 0)),p(this,tn,new Array(t).fill(void 0)),p(this,nn,new E(t)),p(this,ln,new E(t)),p(this,sn,0),p(this,on,0),p(this,rn,Nt.create(t)),p(this,Jt,0),p(this,Qt,0),"function"==typeof a&&p(this,Kt,a),"function"==typeof u?(p(this,Yt,u),p(this,an,[])):(p(this,Yt,void 0),p(this,an,void 0)),p(this,hn,!!d(this,Kt)),p(this,mn,!!d(this,Yt)),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!w,this.allowStaleOnFetchRejection=!!$,this.allowStaleOnFetchAbort=!!S,this.ignoreFetchAbort=!!C,0!==this.maxEntrySize){if(0!==d(this,Vt)&&!Pt(d(this,Vt)))throw new TypeError("maxSize must be a positive integer if specified");if(!Pt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");g(this,wn,xn).call(this)}if(this.allowStale=!!r,this.noDeleteOnStaleGet=!!x,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=Pt(i)||0===i?i:1,this.ttlAutopurge=!!l,this.ttl=n||0,this.ttl){if(!Pt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");g(this,gn,fn).call(this)}if(0===d(this,Zt)&&0===this.ttl&&0===d(this,Vt))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!d(this,Zt)&&!d(this,Vt)){const e="LRU_CACHE_UNBOUNDED";Ht(e)&&(Rt.add(e),jt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,Bn))}}static unsafeExposeInternals(e){return{starts:d(e,un),ttls:d(e,dn),sizes:d(e,cn),keyMap:d(e,Xt),keyList:d(e,en),valList:d(e,tn),next:d(e,nn),prev:d(e,ln),get head(){return d(e,sn)},get tail(){return d(e,on)},free:d(e,rn),isBackgroundFetch:t=>{var n;return g(n=e,Dn,Rn).call(n,t)},backgroundFetch:(t,n,i,l)=>{var s;return g(s=e,In,On).call(s,t,n,i,l)},moveToTail:t=>{var n;return g(n=e,Pn,Mn).call(n,t)},indexes:t=>{var n;return g(n=e,En,Tn).call(n,t)},rindexes:t=>{var n;return g(n=e,Wn,zn).call(n,t)},isStale:t=>{var n;return d(n=e,yn).call(n,t)}}}get max(){return d(this,Zt)}get maxSize(){return d(this,Vt)}get calculatedSize(){return d(this,Qt)}get size(){return d(this,Jt)}get fetchMethod(){return d(this,Gt)}get dispose(){return d(this,Kt)}get disposeAfter(){return d(this,Yt)}getRemainingTTL(e){return d(this,Xt).has(e)?1/0:0}*entries(){for(const e of g(this,En,Tn).call(this))void 0!==d(this,tn)[e]&&void 0!==d(this,en)[e]&&!g(this,Dn,Rn).call(this,d(this,tn)[e])&&(yield[d(this,en)[e],d(this,tn)[e]])}*rentries(){for(const e of g(this,Wn,zn).call(this))void 0!==d(this,tn)[e]&&void 0!==d(this,en)[e]&&!g(this,Dn,Rn).call(this,d(this,tn)[e])&&(yield[d(this,en)[e],d(this,tn)[e]])}*keys(){for(const e of g(this,En,Tn).call(this)){const t=d(this,en)[e];void 0!==t&&!g(this,Dn,Rn).call(this,d(this,tn)[e])&&(yield t)}}*rkeys(){for(const e of g(this,Wn,zn).call(this)){const t=d(this,en)[e];void 0!==t&&!g(this,Dn,Rn).call(this,d(this,tn)[e])&&(yield t)}}*values(){for(const e of g(this,En,Tn).call(this))void 0!==d(this,tn)[e]&&!g(this,Dn,Rn).call(this,d(this,tn)[e])&&(yield d(this,tn)[e])}*rvalues(){for(const e of g(this,Wn,zn).call(this))void 0!==d(this,tn)[e]&&!g(this,Dn,Rn).call(this,d(this,tn)[e])&&(yield d(this,tn)[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const n of g(this,En,Tn).call(this)){const i=d(this,tn)[n],l=g(this,Dn,Rn).call(this,i)?i.__staleWhileFetching:i;if(void 0!==l&&e(l,d(this,en)[n],this))return this.get(d(this,en)[n],t)}}forEach(e,t=this){for(const n of g(this,En,Tn).call(this)){const i=d(this,tn)[n],l=g(this,Dn,Rn).call(this,i)?i.__staleWhileFetching:i;void 0!==l&&e.call(t,l,d(this,en)[n],this)}}rforEach(e,t=this){for(const n of g(this,Wn,zn).call(this)){const i=d(this,tn)[n],l=g(this,Dn,Rn).call(this,i)?i.__staleWhileFetching:i;void 0!==l&&e.call(t,l,d(this,en)[n],this)}}purgeStale(){let e=!1;for(const t of g(this,Wn,zn).call(this,{allowStale:!0}))d(this,yn).call(this,t)&&(this.delete(d(this,en)[t]),e=!0);return e}dump(){const e=[];for(const t of g(this,En,Tn).call(this,{allowStale:!0})){const n=d(this,en)[t],i=d(this,tn)[t],l=g(this,Dn,Rn).call(this,i)?i.__staleWhileFetching:i;if(void 0===l||void 0===n)continue;const s={value:l};if(d(this,dn)&&d(this,un)){s.ttl=d(this,dn)[t];const e=Dt.now()-d(this,un)[t];s.start=Math.floor(Date.now()-e)}d(this,cn)&&(s.size=d(this,cn)[t]),e.unshift([n,s])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const e=Date.now()-n.start;n.start=Dt.now()-e}this.set(t,n.value,n)}}set(e,t,n={}){var i,l,s;const{ttl:o=this.ttl,start:r,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:u}=n;let{noUpdateTTL:h=this.noUpdateTTL}=n;const f=d(this,Cn).call(this,e,t,n.size||0,c);if(this.maxEntrySize&&f>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),this.delete(e),this;let v=0===d(this,Jt)?void 0:d(this,Xt).get(e);if(void 0===v)v=0===d(this,Jt)?d(this,on):0!==d(this,rn).length?d(this,rn).pop():d(this,Jt)===d(this,Zt)?g(this,Fn,Ln).call(this,!1):d(this,Jt),d(this,en)[v]=e,d(this,tn)[v]=t,d(this,Xt).set(e,v),d(this,nn)[d(this,on)]=v,d(this,ln)[v]=d(this,on),p(this,on,v),m(this,Jt)._++,d(this,Sn).call(this,v,f,u),u&&(u.set="add"),h=!1;else{g(this,Pn,Mn).call(this,v);const n=d(this,tn)[v];if(t!==n){if(d(this,pn)&&g(this,Dn,Rn).call(this,n)?n.__abortController.abort(new Error("replaced")):a||(d(this,hn)&&(null==(i=d(this,Kt))||i.call(this,n,e,"set")),d(this,mn)&&(null==(l=d(this,an))||l.push([n,e,"set"]))),d(this,$n).call(this,v),d(this,Sn).call(this,v,f,u),d(this,tn)[v]=t,u){u.set="replace";const e=n&&g(this,Dn,Rn).call(this,n)?n.__staleWhileFetching:n;void 0!==e&&(u.oldValue=e)}}else u&&(u.set="update")}if(0!==o&&!d(this,dn)&&g(this,gn,fn).call(this),d(this,dn)&&(h||d(this,bn).call(this,v,o,r),u&&d(this,kn).call(this,u,v)),!a&&d(this,mn)&&d(this,an)){const e=d(this,an);let t;for(;t=null==e?void 0:e.shift();)null==(s=d(this,Yt))||s.call(this,...t)}return this}pop(){var e;try{for(;d(this,Jt);){const e=d(this,tn)[d(this,sn)];if(g(this,Fn,Ln).call(this,!0),g(this,Dn,Rn).call(this,e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(d(this,mn)&&d(this,an)){const t=d(this,an);let n;for(;n=null==t?void 0:t.shift();)null==(e=d(this,Yt))||e.call(this,...n)}}}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=t,l=d(this,Xt).get(e);if(void 0!==l){if(!d(this,yn).call(this,l))return n&&d(this,vn).call(this,l),i&&(i.has="hit",d(this,kn).call(this,i,l)),!0;i&&(i.has="stale",d(this,kn).call(this,i,l))}else i&&(i.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,i=d(this,Xt).get(e);if(void 0!==i&&(n||!d(this,yn).call(this,i))){const e=d(this,tn)[i];return g(this,Dn,Rn).call(this,e)?e.__staleWhileFetching:e}}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:l=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:r=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:f,forceRefresh:v=!1,status:k,signal:b}=t;if(!d(this,pn))return k&&(k.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:l,status:k});const y={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:l,ttl:s,noDisposeOnSet:o,size:r,sizeCalculation:a,noUpdateTTL:c,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:m,ignoreFetchAbort:p,status:k,signal:b};let w=d(this,Xt).get(e);if(void 0===w){k&&(k.fetch="miss");const t=g(this,In,On).call(this,e,w,y,f);return t.__returned=t}{const t=d(this,tn)[w];if(g(this,Dn,Rn).call(this,t)){const e=n&&void 0!==t.__staleWhileFetching;return k&&(k.fetch="inflight",e&&(k.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const l=d(this,yn).call(this,w);if(!v&&!l)return k&&(k.fetch="hit"),g(this,Pn,Mn).call(this,w),i&&d(this,vn).call(this,w),k&&d(this,kn).call(this,k,w),t;const s=g(this,In,On).call(this,e,w,y,f),o=void 0!==s.__staleWhileFetching&&n;return k&&(k.fetch=l?"stale":"refresh",o&&l&&(k.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:l=this.noDeleteOnStaleGet,status:s}=t,o=d(this,Xt).get(e);if(void 0!==o){const t=d(this,tn)[o],r=g(this,Dn,Rn).call(this,t);return s&&d(this,kn).call(this,s,o),d(this,yn).call(this,o)?(s&&(s.get="stale"),r?(s&&n&&void 0!==t.__staleWhileFetching&&(s.returnedStale=!0),n?t.__staleWhileFetching:void 0):(l||this.delete(e),s&&n&&(s.returnedStale=!0),n?t:void 0)):(s&&(s.get="hit"),r?t.__staleWhileFetching:(g(this,Pn,Mn).call(this,o),i&&d(this,vn).call(this,o),t))}s&&(s.get="miss")}delete(e){var t,n,i,l;let s=!1;if(0!==d(this,Jt)){const i=d(this,Xt).get(e);if(void 0!==i)if(s=!0,1===d(this,Jt))this.clear();else{d(this,$n).call(this,i);const l=d(this,tn)[i];g(this,Dn,Rn).call(this,l)?l.__abortController.abort(new Error("deleted")):(d(this,hn)||d(this,mn))&&(d(this,hn)&&(null==(t=d(this,Kt))||t.call(this,l,e,"delete")),d(this,mn)&&(null==(n=d(this,an))||n.push([l,e,"delete"]))),d(this,Xt).delete(e),d(this,en)[i]=void 0,d(this,tn)[i]=void 0,i===d(this,on)?p(this,on,d(this,ln)[i]):i===d(this,sn)?p(this,sn,d(this,nn)[i]):(d(this,nn)[d(this,ln)[i]]=d(this,nn)[i],d(this,ln)[d(this,nn)[i]]=d(this,ln)[i]),m(this,Jt)._--,d(this,rn).push(i)}}if(d(this,mn)&&null!=(i=d(this,an))&&i.length){const e=d(this,an);let t;for(;t=null==e?void 0:e.shift();)null==(l=d(this,Yt))||l.call(this,...t)}return s}clear(){var e,t,n;for(const i of g(this,Wn,zn).call(this,{allowStale:!0})){const n=d(this,tn)[i];if(g(this,Dn,Rn).call(this,n))n.__abortController.abort(new Error("deleted"));else{const l=d(this,en)[i];d(this,hn)&&(null==(e=d(this,Kt))||e.call(this,n,l,"delete")),d(this,mn)&&(null==(t=d(this,an))||t.push([n,l,"delete"]))}}if(d(this,Xt).clear(),d(this,tn).fill(void 0),d(this,en).fill(void 0),d(this,dn)&&d(this,un)&&(d(this,dn).fill(0),d(this,un).fill(0)),d(this,cn)&&d(this,cn).fill(0),p(this,sn,0),p(this,on,0),d(this,rn).length=0,p(this,Qt,0),p(this,Jt,0),d(this,mn)&&d(this,an)){const e=d(this,an);let t;for(;t=null==e?void 0:e.shift();)null==(n=d(this,Yt))||n.call(this,...t)}}};let qn=Bn;Zt=new WeakMap,Vt=new WeakMap,Kt=new WeakMap,Yt=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,Qt=new WeakMap,Xt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,ln=new WeakMap,sn=new WeakMap,on=new WeakMap,rn=new WeakMap,an=new WeakMap,cn=new WeakMap,un=new WeakMap,dn=new WeakMap,hn=new WeakMap,pn=new WeakMap,mn=new WeakMap,gn=new WeakSet,fn=function(){const e=new Bt(d(this,Zt)),t=new Bt(d(this,Zt));p(this,dn,e),p(this,un,t),p(this,bn,((n,i,l=Dt.now())=>{if(t[n]=0!==i?l:0,e[n]=i,0!==i&&this.ttlAutopurge){const e=setTimeout((()=>{d(this,yn).call(this,n)&&this.delete(d(this,en)[n])}),i+1);e.unref&&e.unref()}})),p(this,vn,(n=>{t[n]=0!==e[n]?Dt.now():0})),p(this,kn,((l,s)=>{if(e[s]){const o=e[s],r=t[s];l.ttl=o,l.start=r,l.now=n||i(),l.remainingTTL=l.now+o-r}}));let n=0;const i=()=>{const e=Dt.now();if(this.ttlResolution>0){n=e;const t=setTimeout((()=>n=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=l=>{const s=d(this,Xt).get(l);return void 0===s?0:0===e[s]||0===t[s]?1/0:t[s]+e[s]-(n||i())},p(this,yn,(l=>0!==e[l]&&0!==t[l]&&(n||i())-t[l]>e[l]))},vn=new WeakMap,kn=new WeakMap,bn=new WeakMap,yn=new WeakMap,wn=new WeakSet,xn=function(){const e=new Bt(d(this,Zt));p(this,Qt,0),p(this,cn,e),p(this,$n,(t=>{p(this,Qt,d(this,Qt)-e[t]),e[t]=0})),p(this,Cn,((e,t,n,i)=>{if(g(this,Dn,Rn).call(this,t))return 0;if(!Pt(n)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(n=i(t,e),!Pt(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n})),p(this,Sn,((t,n,i)=>{if(e[t]=n,d(this,Vt)){const n=d(this,Vt)-e[t];for(;d(this,Qt)>n;)g(this,Fn,Ln).call(this,!0)}p(this,Qt,d(this,Qt)+e[t]),i&&(i.entrySize=n,i.totalCalculatedSize=d(this,Qt))}))},$n=new WeakMap,Sn=new WeakMap,Cn=new WeakMap,En=new WeakSet,Tn=function*({allowStale:e=this.allowStale}={}){if(d(this,Jt))for(let t=d(this,on);g(this,An,_n).call(this,t)&&((e||!d(this,yn).call(this,t))&&(yield t),t!==d(this,sn));)t=d(this,ln)[t]},Wn=new WeakSet,zn=function*({allowStale:e=this.allowStale}={}){if(d(this,Jt))for(let t=d(this,sn);g(this,An,_n).call(this,t)&&((e||!d(this,yn).call(this,t))&&(yield t),t!==d(this,on));)t=d(this,nn)[t]},An=new WeakSet,_n=function(e){return void 0!==e&&d(this,Xt).get(d(this,en)[e])===e},Fn=new WeakSet,Ln=function(e){var t,n;const i=d(this,sn),l=d(this,en)[i],s=d(this,tn)[i];return d(this,pn)&&g(this,Dn,Rn).call(this,s)?s.__abortController.abort(new Error("evicted")):(d(this,hn)||d(this,mn))&&(d(this,hn)&&(null==(t=d(this,Kt))||t.call(this,s,l,"evict")),d(this,mn)&&(null==(n=d(this,an))||n.push([s,l,"evict"]))),d(this,$n).call(this,i),e&&(d(this,en)[i]=void 0,d(this,tn)[i]=void 0,d(this,rn).push(i)),1===d(this,Jt)?(p(this,sn,p(this,on,0)),d(this,rn).length=0):p(this,sn,d(this,nn)[i]),d(this,Xt).delete(l),m(this,Jt)._--,i},In=new WeakSet,On=function(e,t,n,i){const l=void 0===t?void 0:d(this,tn)[t];if(g(this,Dn,Rn).call(this,l))return l;const s=new AbortController,{signal:o}=n;null==o||o.addEventListener("abort",(()=>s.abort(o.reason)),{signal:s.signal});const r={signal:s.signal,options:n,context:i},a=(i,l=!1)=>{const{aborted:o}=s.signal,a=n.ignoreFetchAbort&&void 0!==i;if(n.status&&(o&&!l?(n.status.fetchAborted=!0,n.status.fetchError=s.signal.reason,a&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),o&&!a&&!l)return u(s.signal.reason);const c=p;return d(this,tn)[t]===p&&(void 0===i?c.__staleWhileFetching?d(this,tn)[t]=c.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,i,r.options))),i},c=e=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),u(e)),u=i=>{const{aborted:l}=s.signal,o=l&&n.allowStaleOnFetchAbort,r=o||n.allowStaleOnFetchRejection,a=r||n.noDeleteOnFetchRejection,c=p;if(d(this,tn)[t]===p&&(a&&void 0!==c.__staleWhileFetching?o||(d(this,tn)[t]=c.__staleWhileFetching):this.delete(e)),r)return n.status&&void 0!==c.__staleWhileFetching&&(n.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw i},h=(t,i)=>{var o;const c=null==(o=d(this,Gt))?void 0:o.call(this,e,l,r);c&&c instanceof Promise&&c.then((e=>t(e)),i),s.signal.addEventListener("abort",(()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(t(),n.allowStaleOnFetchAbort&&(t=e=>a(e,!0)))}))};n.status&&(n.status.fetchDispatched=!0);const p=new Promise(h).then(a,c),m=Object.assign(p,{__abortController:s,__staleWhileFetching:l,__returned:void 0});return void 0===t?(this.set(e,m,{...r.options,status:void 0}),t=d(this,Xt).get(e)):d(this,tn)[t]=m,m},Dn=new WeakSet,Rn=function(e){if(!d(this,pn))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof AbortController},jn=new WeakSet,Hn=function(e,t){d(this,ln)[t]=e,d(this,nn)[e]=t},Pn=new WeakSet,Mn=function(e){e!==d(this,on)&&(e===d(this,sn)?p(this,sn,d(this,nn)[e]):g(this,jn,Hn).call(this,d(this,ln)[e],d(this,nn)[e]),g(this,jn,Hn).call(this,d(this,on),e),p(this,on,e))};const Un=qn,Nn=e=>{const t=e.value,n=t.substring(0,e.selectionStart),i=t.substring(e.selectionEnd,t.length),l=n.lastIndexOf("\n"),s=n.substring(0,l+1),o=i.indexOf("\n"),r=i.substring(-1===o?i.length:o,i.length),a=n.substring(l+1,n.length),c=i.substring(0,o);return{prefixStr:n,subfixStr:i,prefixStrEndRow:s,subfixStrEndRow:r,prefixSupply:a,subfixSupply:c}},Zn=(e,t="",n,i)=>{var l,s,o,r,a,c;let u,d,h="",p=0,m=0,g=!1;const f=null==(l=A.editorConfig)?void 0:l.mermaidTemplate;if(/^h[1-6]{1}$/.test(e)){const n=e.replace(/^h(\d)/,((e,t)=>new Array(Number(t)).fill("#",0,t).join("")));h=`${n} ${t}`,p=n.length+1}else{if("prettier"===e){const e=window.prettier||(null==(o=null==(s=A.editorExtensions)?void 0:s.prettier)?void 0:o.prettierInstance),t=[(null==(r=window.prettierPlugins)?void 0:r.markdown)||(null==(c=null==(a=A.editorExtensions)?void 0:a.prettier)?void 0:c.parserMarkdownInstance)];return e&&void 0!==t[0]?e.format(n.value,{parser:"markdown",plugins:t}):(L.emit(i.editorId,"errorCatcher",{name:"prettier",message:"prettier is undefined"}),n.value)}switch(e){case"bold":h=`**${t}**`,p=2,m=-2;break;case"underline":h=`<u>${t}</u>`,p=3,m=-4;break;case"italic":h=`*${t}*`,p=1,m=-1;break;case"strikeThrough":h=`~${t}~`,p=1,m=-1;break;case"sub":h=`<sub>${t}</sub>`,p=5,m=-6;break;case"sup":h=`<sup>${t}</sup>`,p=5,m=-6;break;case"codeRow":h="`"+t+"`",p=1,m=-1;break;case"quote":h=`> ${t}`,p=2;break;case"orderedList":h=`1. ${t}`,p=3;break;case"unorderedList":h=`- ${t}`,p=2;break;case"task":h=`- [ ] ${t}`,p=6,g=!0;break;case"code":{const e=i.text||t||"",n=i.mode||"language";h=`\`\`\`${n}\n${e}\n\`\`\`\n`,p=3,m=3+n.length-h.length,g=!0;break}case"table":{h="|";const{selectedShape:e={x:1,y:1}}=i,{x:t,y:n}=e;for(let i=0;i<=n;i++)h+=" col |";h+="\n|";for(let i=0;i<=n;i++)h+=" - |";for(let i=0;i<=t;i++){h+="\n|";for(let e=0;e<=n;e++)h+=" content |"}p=2,m=5-h.length,g=!0;break}case"link":{const{desc:e,url:t}=i;h=`[${e}](${t})`;break}case"image":{const{desc:e,url:t,urls:n}=i;h=n instanceof Array?n.reduce(((t,n)=>t+`![${e}](${n})\n`),""):`![${e}](${t})\n`;break}case"tab":{const{tabWidth:e=2}=i,l=new Array(e).fill(" ").join("");if(""===t)h=l;else if(/\n/.test(t)){const{prefixStr:i,subfixStr:s,prefixSupply:o,subfixSupply:r}=Nn(n);h=`${o}${t}${r}`.split("\n").map((e=>`${l}${e}`)).join("\n"),u=i.substring(0,i.length-o.length),d=s.substring(r.length,s.length),g=!0,p=e,m=-o.length-r.length}else{const e=n.value.substring(0,n.selectionStart);/\n$/.test(e)||""===e?(h=`${l}${t}`,g=!0):h=l}break}case"shiftTab":{const{tabWidth:e=2}=i,{prefixStr:l,prefixStrEndRow:s,subfixStrEndRow:o,prefixSupply:r,subfixSupply:a}=Nn(n),c=new RegExp(`^\\s{${e}}`),u=(i=!1,u=!1)=>{const d=`${r}${t}${a}`;if(c.test(d)){const r=l.length-(u?0:e),a=i?r+t.length-e:r;return I(n,r,a),`${s}${d.replace(c,"")}${o}`}if(/^\s/.test(d)){const e=d.replace(/^\s/,""),l=d.length-e.length,r=n.selectionStart-(u?0:l),a=i?r+t.length-l:r;return I(n,r,a),`${s}${e}${o}`}h=t};if(""===t){const e=u();if(e)return e}else{if(/\n/.test(t)){const i=`${r}${t}${a}`.split("\n");let[l,u]=[0,0];const d=i.map(((t,n)=>{if(c.test(t))return 0===n&&(l=e),u+=e,t.replace(c,"");if(/^\s/.test(t)){const e=t.replace(/^\s/,"");return u+=t.length-e.length,e}return t})).join("\n");return I(n,n.selectionStart-l,n.selectionEnd-u),`${s}${d}${o}`}{const e=u(!0,!0);if(e)return e}}break}case"ctrlC":{const{prefixSupply:e,subfixSupply:i}=Nn(n);return xt(""===t?`${e}${i}`:t),n.value}case"ctrlX":{const{prefixStrEndRow:e,subfixStrEndRow:i,prefixStr:l,subfixStr:s,prefixSupply:o,subfixSupply:r}=Nn(n);return""===t?(xt(`${o}${r}`),I(n,e.length),`${e}${i.replace(/^\n/,"")}`):(xt(t),I(n,l.length),`${l}${s}`)}case"ctrlD":{const{prefixStrEndRow:e,subfixStrEndRow:t}=Nn(n);return I(n,e.length),`${e}${t.replace(/^\n/,"")}`}case"flow":h=`\`\`\`mermaid\n${(null==f?void 0:f.flow)||"flowchart TD \n  Start --\x3e Stop"}\n\`\`\`\n`,p=2;break;case"sequence":h=`\`\`\`mermaid\n${(null==f?void 0:f.sequence)||"sequenceDiagram\n  A->>B: hello!\n  B--\x3e>A: hi!\n  A-)B: bye!"}\n\`\`\`\n`,p=2;break;case"gantt":h=`\`\`\`mermaid\n${(null==f?void 0:f.gantt)||"gantt\ntitle A Gantt Diagram\ndateFormat  YYYY-MM-DD\nsection Section\nA task  :a1, 2014-01-01, 30d\nAnother task  :after a1, 20d"}\n\`\`\`\n`,p=2;break;case"class":h=`\`\`\`mermaid\n${(null==f?void 0:f.class)||"classDiagram\n  class Animal\n  Vehicle <|-- Car"}\n\`\`\`\n`,p=2;break;case"state":h=`\`\`\`mermaid\n${(null==f?void 0:f.state)||"stateDiagram-v2\n  s1 --\x3e s2"}\n\`\`\`\n`,p=2;break;case"pie":h=`\`\`\`mermaid\n${(null==f?void 0:f.pie)||'pie title Pets adopted by volunteers\n  "Dogs" : 386\n  "Cats" : 85\n  "Rats" : 15'}\n\`\`\`\n`,p=2;break;case"relationship":h=`\`\`\`mermaid\n${(null==f?void 0:f.relationship)||"erDiagram\n  CAR ||--o{ NAMED-DRIVER : allows\n  PERSON ||--o{ NAMED-DRIVER : is"}\n\`\`\`\n`,p=2;break;case"journey":h=`\`\`\`mermaid\n${(null==f?void 0:f.journey)||"journey\n  title My working day\n  section Go to work\n    Make tea: 5: Me\n    Go upstairs: 3: Me\n    Do work: 1: Me, Cat\n  section Go home\n    Go downstairs: 5: Me\n    Sit down: 5: Me"}\n\`\`\`\n`,p=2;break;case"katexInline":h="$$",p=1,m=-1;break;case"katexBlock":h="$$\n\n$$\n",p=1,m=-4;break;case"universal":{const{generate:e}=i,n=e(t);h=n.targetValue,g=n.select,p=n.deviationStart,m=n.deviationEnd}}}return O(n,h,{deviationStart:p,deviationEnd:m,select:g,prefixVal:u,subfixVal:d})},Vn={block(e,t){return{name:"KaTexBlockExtension",level:"block",start:e=>{var t;return null==(t=e.match(/\n\$\$/))?void 0:t.index},tokenizer(e){if(/^\$\$/.test(e)&&e.split("$$").length>2){const t=B(e,"$$");return{type:"KaTexBlockExtension",raw:t[0],text:t[1].trim(),tokens:[]}}},renderer(n){const i=t||typeof window<"u"&&window.katex;if(i){const t=i.renderToString(n.text,{throwOnError:!1,displayMode:!0});return`<p class="${e}-katex-block" data-processed>${t}</p>`}return`<p class="${e}-katex-block">${n.text}</p>`}}},inline(e,t){return{name:"KaTexInlineExtension",level:"inline",start:e=>{var t;return null==(t=e.match(/\$[^\n]*/))?void 0:t.index},tokenizer(e){if(/^\$[^\n]*\$/.test(e)){const t=B(e);return{type:"KaTexInlineExtension",raw:t[0],text:t[1].trim(),tokens:[]}}},renderer(n){const i=t||typeof window<"u"&&window.katex;if(i){const t=i.renderToString(n.text,{throwOnError:!1});return`<span class="${e}-katex-inline" data-processed>${t}</span>`}return`<span class="${e}-katex-inline">${n.text}</span>`}}}},Kn=["abstract","attention","bug","caution","danger","error","example","failure","hint","info","note","question","quote","success","tip","warning"],Yn=new RegExp(`^!!!\\s*(${Kn.join("|")})\\s*(.*)$`),Gn=/^!!!\s*$/,Jn={name:"alert",level:"block",start(e){var t;return null==(t=e.match(new RegExp(`(^|[\\r\\n])!!!\\s*(${Kn.join("|")})\\s*(.*)`)))?void 0:t.index},tokenizer(e){const t=e.split(/\n/);if(Yn.test(t[0])){const e={x:-1,y:-1},n=[];for(let i=0,l=t.length;i<l;i++)Yn.test(t[i])?e.x=i:Gn.test(t[i])&&(e.y=i,e.x>=0&&(n.push({...e}),e.x=-1,e.y=-1));if(n.length){const e=n[0],[i,l,s]=Yn.exec(t[e.x])||[],o=t.slice(e.x+1,e.y).join("\n"),r={type:"alert",raw:t.slice(e.x,e.y+1).join("\n"),icon:l,title:s,text:o,titleTokens:[],tokens:[],childTokens:["title","text"]};return this.lexer.inlineTokens(r.title,r.titleTokens),this.lexer.blockTokens(r.text,r.tokens),r}}},renderer(e){return`<div class="md-editor-alert md-editor-alert-${e.icon}">\n     <p class="md-editor-alert-title">${this.parser.parseInline(e.titleTokens,null)}</p>\n     ${this.parser.parse(e.tokens)}\n     </div>`}},Qn=typeof window>"u",Xn=(e,t,n)=>{var s,o;const r=(0,l.f3)("previewOnly"),a=(0,l.f3)("historyLength"),c=(0,l.f3)("editorId");if(r)return;let u=-1;const d={list:[{content:e.value,startPos:(null==(s=t.value)?void 0:s.selectionStart)||0,endPos:(null==(o=t.value)?void 0:o.selectionEnd)||0}],userUpdated:!0,curr:0},h=[0,0];let p=h;const m=n=>{var i,l;const s=(null==(i=t.value)?void 0:i.selectionStart)||0,o=(null==(l=t.value)?void 0:l.selectionEnd)||0;d.list[d.curr].startPos=s,d.list[d.curr].endPos=o,d.userUpdated=!1,d.curr=n;const r=d.list[d.curr];p=[r.startPos,r.endPos],e.onChange(r.content),I(t.value,r.startPos,r.endPos).then((()=>{L.emit(c,"selectTextChange")}))},g=e=>{var n,i;clearTimeout(u);const l=(null==(n=t.value)?void 0:n.selectionStart)||0,s=(null==(i=t.value)?void 0:i.selectionEnd)||0;u=setTimeout((()=>{if(d.userUpdated){d.curr<d.list.length-1&&(d.list=d.list.slice(0,d.curr+1)),d.list.length>a&&d.list.shift();const t=d.list.pop()||{startPos:0,endPos:0,content:e};t.startPos=p[0],t.endPos=p[1],p=h,Array.prototype.push.call(d.list,t,{content:e,startPos:l,endPos:s}),d.curr=d.list.length-1}else d.userUpdated=!0}),150)},f=e=>{var n,i;(p===h||e)&&(p=[null==(n=t.value)?void 0:n.selectionStart,null==(i=t.value)?void 0:i.selectionEnd])};(0,l.YP)([(0,i.Vh)(e,"value"),n],(()=>{n.value&&g(e.value)})),(0,l.YP)((()=>e.value),(()=>{L.emit(c,"selectTextChange")}),{flush:"post"}),(0,l.bv)((()=>{L.on(c,{name:"ctrlZ",callback(){m(d.curr-1<0?0:d.curr-1)}}),L.on(c,{name:"ctrlShiftZ",callback(){m(d.curr+1===d.list.length?d.curr:d.curr+1)}}),L.on(c,{name:"saveHistoryPos",callback:f})}))},ei=(e,t)=>{var n;const s=null==(n=A.editorExtensions)?void 0:n.katex,o=null==s?void 0:s.instance,r=(0,i.iH)(!1);return e.noKatex||t.use({extensions:[Vn.inline(f,o),Vn.block(f,o)]}),(0,l.bv)((()=>{if(!e.noKatex&&!o){const e=document.createElement("script");e.src=(null==s?void 0:s.js)||W.js,e.onload=()=>{r.value=!0},e.id=`${f}-katex`;const t=document.createElement("link");t.rel="stylesheet",t.href=(null==s?void 0:s.css)||W.css,t.id=`${f}-katexCss`,K(e,"katex"),K(t)}})),r},ti=e=>{var t,n,s;const{markedRenderer:o,markedExtensions:r,markedOptions:a,editorExtensions:c,editorConfig:u}=A,d=(0,l.f3)("showCodeRowNumber"),h=(0,l.f3)("editorId"),p=(0,l.f3)("highlight"),m=(0,l.f3)("previewOnly"),g=(0,l.f3)("theme"),v=null==(t=null==c?void 0:c.highlight)?void 0:t.instance,k=null==(n=null==c?void 0:c.mermaid)?void 0:n.instance,b=null==(s=null==c?void 0:c.katex)?void 0:s.instance,y=null==c?void 0:c.katex,w=(0,i.iH)(!1),x=(0,i.iH)([]);let $=[],S=[];const C=new Un({max:1e3,ttl:6e5}),E=li(e),T=ei(e,gt),z=(0,l.Fl)((()=>(e.noMermaid||E.mermaidInited)&&w.value&&(e.noKatex||T.value)));let _=new gt.Renderer;_.image=(e,t,n)=>`<span class="figure"><img src="${e}" title="${t||""}" alt="${n||""}" zoom><span class="figcaption">${n||""}</span></span>`,_.listitem=(e,t)=>t?`<li class="li-task">${e}</li>`:`<li>${e}</li>`,o instanceof Function&&(_=o(_));const F=_.code;_.code=(t,n,i)=>{if(!e.noMermaid&&"mermaid"===n){const e=Z();try{if(Qn)return`<p class="${f}-mermaid">${t}</p>`;{const n=C.get(t);if(n)return`<p class="${f}-mermaid" data-processed>${n}</p>`;const i=k||window.mermaid;if(!E.mermaidInited)return`<p class="${f}-mermaid">${t}</p>`;{const n=(i.renderAsync||i.render)(e,t);n.then((e=>{C.set(t,"string"==typeof e?e:e.svg)})),$.push(n)}}const n=`<script type="text/tmplate">${e}<\/script>`;return S.push(n),n}catch(l){return`<p class="${f}-mermaid-error">Error: ${(null==l?void 0:l.message)||""}</p>`}}return F.call(_,t,n,i).replace(/^<pre><code\sclass="language-([^>]*)">/,'<pre><code class="language-$1" language="$1">')};const I=_.heading,O=I!==(new gt.Renderer).heading;_.heading=(t,n,i,l)=>{x.value.push({text:i,level:n});const s=e.markedHeadingId(i,n,x.value.length);return O?I.call(_,t,n,i,l,x.value.length,s):t!==i?`<h${n} id="${s}">${t}</h${n}>`:`<h${n} id="${s}"><a href="#${s}">${i}</a></h${n}>`},v&&gt.setOptions({highlight:(e,t)=>{let n;const i=v.getLanguage(t);return n=t&&i?v.highlight(e,{language:t,ignoreIllegals:!0}).value:v.highlightAuto(e).value,d?H(n):`<span class="code-block">${n}</span>`}}),gt.setOptions({breaks:!0,...a}),r instanceof Array&&r.length>0&&gt.use({extensions:r}),gt.use({extensions:[Jn]});const D=(0,i.iH)(e.sanitize(gt(e.value||"",{renderer:_}))),R=async t=>{let n=e.sanitize(gt(t,{renderer:_}));const i=[...$],l=[...S];return S=[],$=[],(await Promise.allSettled(i)).forEach(((e,t)=>{n="fulfilled"===e.status?n.replace(l[t],`<p class="${f}-mermaid" data-processed>${"string"==typeof e.value?e.value:e.value.svg}</p>`):n.replace(l[t],`<p class="${f}-mermaid-error">${e.reason||""}</p>`)})),n},j=P((async()=>{x.value=[];const t=await R(e.value||"");D.value=t,L.emit(h,"buildFinished",D.value),e.onHtmlChanged(D.value)}),void 0!==(null==u?void 0:u.renderDelay)?null==u?void 0:u.renderDelay:m?0:500);(0,l.YP)([z,(0,i.Vh)(E,"reRender"),(0,i.Vh)(e,"value")],j),(0,l.YP)([g],(()=>{C.clear()}));const M=()=>{gt.setOptions({highlight:(e,t)=>{let n;const i=window.hljs.getLanguage(t);return n=t&&i?window.hljs.highlight(e,{language:t,ignoreIllegals:!0}).value:window.hljs.highlightAuto(e).value,d?H(n):`<span class="code-block">${n}</span>`}}),w.value=!0};return(0,l.YP)((()=>x.value),(t=>{e.onGetCatalog(t),L.emit(h,"catalogChanged",t)})),(0,l.bv)((()=>{if(!e.noKatex&&!b){const e=document.createElement("script");e.src=(null==y?void 0:y.js)||W.js,e.onload=()=>{T.value=!0},e.id=`${f}-katex`;const t=document.createElement("link");t.rel="stylesheet",t.href=(null==y?void 0:y.css)||W.css,t.id=`${f}-katexCss`,K(e,"katex"),K(t)}const t=document.createElement("link");if(t.rel="stylesheet",t.href=p.value.css,t.id=`${f}-hlCss`,K(t),!v){const e=document.createElement("script");e.src=p.value.js,e.onload=M,e.id=`${f}-hljs`,K(e,"hljs")}})),(0,l.YP)((()=>p.value.css),(e=>{Y(`${f}-hlCss`,"href",e)})),(0,l.bv)((()=>{L.on(h,{name:"pushCatalog",callback(){L.emit(h,"catalogChanged",x.value)}})})),D},ni=(e,t,n,i,s)=>{const o=(0,l.f3)("previewOnly"),r=(0,l.f3)("usedLanguageText"),a=(0,l.f3)("editorId");let c=()=>{},u=()=>{};const d=()=>{document.querySelectorAll(`#${a}-preview pre`).forEach((t=>{var n,i;let l=-1;null==(n=t.querySelector(".copy-button"))||n.remove();const s=(null==(i=r.value.copyCode)?void 0:i.text)||"复制代码",o=document.createElement("span");o.setAttribute("class","copy-button"),o.dataset.tips=s,o.innerHTML=`<svg class="${f}-icon" aria-hidden="true"><use xlink:href="#${f}-icon-copy"></use></svg>`,o.addEventListener("click",(()=>{var n,i;clearTimeout(l);const a=t.querySelector("code").innerText,c=xt(e.formatCopiedText(a)),u=(null==(n=r.value.copyCode)?void 0:n.successTips)||"已复制！",d=(null==(i=r.value.copyCode)?void 0:i.failTips)||"已复制！";o.dataset.tips=c?u:d,l=window.setTimeout((()=>{o.dataset.tips=s}),1500)})),t.appendChild(o)}))},h=()=>{(0,l.Y3)((()=>{e.setting.preview&&!o&&e.scrollAuto&&(c(),u()),d()}))},p=e=>{e&&!o&&(0,l.Y3)((()=>{c(),[u,c]=R(n.value,i.value||s.value),u(),d()}))};(0,l.YP)((()=>t.value),h),(0,l.YP)((()=>r.value),d),(0,l.YP)((()=>e.setting.preview),p),(0,l.YP)((()=>e.setting.htmlPreview),p),(0,l.YP)((()=>e.scrollAuto),(e=>{e?u():c()})),(0,l.bv)((()=>{d(),!o&&(i.value||s.value)&&([u,c]=R(n.value,i.value||s.value)),e.scrollAuto&&u()}))},ii=(e,t)=>{const n=(0,l.f3)("previewOnly"),s=(0,l.f3)("tabWidth"),o=(0,l.f3)("editorId"),r=(0,i.iH)("");(0,l.bv)((()=>{var i;n||(null==(i=t.value)||i.addEventListener("keypress",(n=>{var i,l,s;if("Enter"===n.key){const o=null==(i=t.value)?void 0:i.selectionStart,r=null==(l=t.value)?void 0:l.value.substring(0,o),a=null==(s=t.value)?void 0:s.value.substring(o),c=null==r?void 0:r.lastIndexOf("\n"),u=null==r?void 0:r.substring(c+1,o);if(/^\d+\.\s|^-\s/.test(u))if(n.cancelBubble=!0,n.preventDefault(),n.stopPropagation(),/^(\d+\.|-)\s+(\[[x\s]\]\s+)?$/.test(u)){const n=null==r?void 0:r.replace(/(\d+\.|-)\s+(\[[x\s]\]\s+)?$/,"");e.onChange(n+a),I(t.value,null==n?void 0:n.length)}else if(/^-\s+.+/.test(u)){const n=/^-\s+\[[x\s]\]/.test(u)?"\n- [ ] ":"\n- ";e.onChange(O(t.value,n,{}))}else{const n=null==u?void 0:u.match(/\d+(?=\.)/),i=n&&Number(n[0])+1||1,l=/^\d\.\s+\[[x\s]\]/.test(u)?`\n${i}. [ ] `:`\n${i}. `;e.onChange(O(t.value,l,{}))}}})),L.on(o,{name:"replace",callback(n,i={}){e.onChange(Zn(n,r.value,t.value,{...i,tabWidth:s,editorId:o}))}}),L.on(o,{name:"selectTextChange",callback(){r.value=q(t.value)}}))})),(0,l.YP)((()=>e.value),(()=>{r.value=""}))},li=e=>{const t=(0,l.f3)("theme"),{editorExtensions:n}=A,s=null==n?void 0:n.mermaid,o=(0,i.qj)({reRender:!1,mermaidInited:!1}),r=()=>{const n=(null==s?void 0:s.instance)||window.mermaid;!e.noMermaid&&n&&(n.initialize({startOnLoad:!1,theme:"dark"===t.value?"dark":"default"}),o.reRender=!o.reRender)};return(0,l.YP)((()=>t.value),r),(0,l.bv)((()=>{if(!e.noMermaid)if(null!=s&&s.instance)r(),o.mermaidInited=!0;else{const e=document.createElement("script");e.id=`${f}-mermaid`;const t=(null==s?void 0:s.js)||T;/\.mjs/.test(t)?(e.setAttribute("type","module"),e.innerHTML=`import mermaid from "${t}";window.mermaid=mermaid;document.getElementById('${f}-mermaid').dispatchEvent(new Event('load'));`):e.src=t,e.onload=()=>{r(),o.mermaidInited=!0},K(e,"mermaid")}})),o},si=(e,t)=>{const n=(0,l.f3)("editorId"),i=(0,l.f3)("previewOnly"),s=t=>{if(t.clipboardData){if(t.clipboardData.files.length>0){const{files:e}=t.clipboardData;L.emit(n,"uploadImage",Array.from(e).filter((e=>/image\/.*/.test(e.type)))),t.preventDefault()}if(e.autoDetectCode&&t.clipboardData.types.includes("vscode-editor-data")){const e=JSON.parse(t.clipboardData.getData("vscode-editor-data"));L.emit(n,"replace","code",{mode:e.mode,text:t.clipboardData.getData("text/plain")}),t.preventDefault()}}};(0,l.bv)((()=>{i||t.value.addEventListener("paste",s)})),(0,l.Jd)((()=>{i||t.value.removeEventListener("paste",s)}))},oi=(e,t)=>{const n=(0,l.f3)("editorId"),s=P((()=>{const e=document.querySelectorAll(`#${n}-preview img[zoom]`);0!==e.length&&Ot(e,{background:"#00000073"})}));(0,l.bv)(s),(0,l.YP)([t,(0,i.Vh)(e.setting,"preview")],s)},ri=e=>{const t=(0,l.f3)("editorId");(0,l.bv)((()=>{L.on(t,{name:le,callback(){var t;null==(t=e.value)||t.focus()}})}))},ai=()=>({value:{type:String,default:""},onChange:{type:Function,default:()=>{}},setting:{type:Object,default:()=>({})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},markedHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},placeholder:{type:String,default:""},noKatex:{type:Boolean,default:!1},scrollAuto:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}}}),ci=(0,l.aZ)({name:"MDEditorContent",props:ai(),setup(e){const t=(0,i.iH)(!0),n=(0,l.f3)("previewOnly"),s=(0,l.f3)("showCodeRowNumber"),o=(0,l.f3)("previewTheme"),r=(0,l.f3)("editorId"),a=(0,i.iH)(),c=(0,i.iH)(),u=(0,i.iH)(),d=ti(e);return ni(e,d,a,c,u),ii(e,a),Xn(e,a,t),si(e,a),oi(e,d),ri(a),()=>{const i=N(e,["formatCopiedText","markedHeadingId","noKatex","noMermaid","onChange","onGetCatalog","onHtmlChanged","sanitize","scrollAuto","setting","autoDetectCode","onBlur","onFocus"]);return(0,l.Wm)(l.HY,null,[(0,l.Wm)("div",{class:`${f}-content`},[!n&&(0,l.Wm)("div",{class:`${f}-input-wrapper`},[(0,l.Wm)("textarea",(0,l.dG)(i,{id:`${r}-textarea`,class:[e.setting.preview||e.setting.htmlPreview?"":"textarea-only"],ref:a,onBlur:t=>{L.emit(r,"selectTextChange"),e.onBlur(t)},onFocus:e.onFocus,onKeydown:()=>{L.emit(r,"saveHistoryPos",!0)},onCompositionstart:()=>{t.value=!1},onInput:t=>{e.onChange(t.target.value)},onCompositionend:()=>{t.value=!0}}),null)]),e.setting.preview&&(0,l.Wm)("div",{id:`${r}-preview-wrapper`,class:`${f}-preview-wrapper`,ref:c,key:"content-preview-wrapper"},[(0,l.Wm)("article",{id:`${r}-preview`,class:[`${f}-preview`,`${null==o?void 0:o.value}-theme`,s&&`${f}-scrn`],innerHTML:d.value},null)]),e.setting.htmlPreview&&(0,l.Wm)("div",{class:`${f}-preview-wrapper`,ref:u,key:"html-preview-wrapper"},[(0,l.Wm)("div",{class:`${f}-html`},[d.value])])])])}}}),ui=(0,l.aZ)({props:{modelValue:{type:String,default:""}},setup(e){const t=(0,l.f3)("usedLanguageText");return()=>{var n,i;return(0,l.Wm)("div",{class:`${f}-footer-item`},[(0,l.Wm)("label",{class:`${f}-footer-label`},[`${null==(n=t.value.footer)?void 0:n.markdownTotal}:`]),(0,l.Wm)("span",null,[(null==(i=e.modelValue)?void 0:i.length)||0])])}}}),di=()=>({checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}}),hi=(0,l.aZ)({props:di(),setup(e){return()=>(0,l.Wm)("div",{class:[`${f}-checkbox`,e.checked&&`${f}-checkbox-checked`],onClick:()=>{e.onChange(!e.checked)}},null)}}),pi=()=>({scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}}),mi=(0,l.aZ)({props:pi(),setup(e){const t=(0,l.f3)("usedLanguageText");return()=>{var n;return(0,l.Wm)("div",{class:`${f}-footer-item`},[(0,l.Wm)("label",{class:`${f}-footer-label`,onClick:()=>{e.onScrollAutoChange(!e.scrollAuto)}},[null==(n=t.value.footer)?void 0:n.scrollAuto]),(0,l.Wm)(hi,{checked:e.scrollAuto,onChange:e.onScrollAutoChange},null)])}}}),gi=()=>({modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}}),fi=(0,l.aZ)({name:"MDEditorFooter",props:gi(),setup(e){const t=(0,l.Fl)((()=>{const t=e.footers.indexOf("="),n=-1===t?e.footers:e.footers.slice(0,t),i=-1===t?[]:e.footers.slice(t,Number.MAX_SAFE_INTEGER);return[n,i]})),n=t=>{if(!C.includes(t))return e.defFooters instanceof Array?e.defFooters[t]||"":e.defFooters&&e.defFooters.children instanceof Array&&e.defFooters.children[t]||"";switch(t){case"markdownTotal":return(0,l.Wm)(ui,{modelValue:e.modelValue},null);case"scrollSwitch":return(0,l.Wm)(mi,{scrollAuto:e.scrollAuto,onScrollAutoChange:e.onScrollAutoChange},null)}};return()=>{const e=t.value[0].map((e=>n(e))),i=t.value[1].map((e=>n(e)));return(0,l.Wm)("div",{class:`${f}-footer`},[(0,l.Wm)("div",{class:`${f}-footer-left`},[e]),(0,l.Wm)("div",{class:`${f}-footer-right`},[i])])}}}),vi=()=>({tocItem:{type:Object,default:()=>({})},markedHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}}),ki=(0,l.aZ)({props:vi(),setup(e){return()=>{const{tocItem:t,markedHeadingId:n,scrollElement:i,onClick:s,scrollElementOffsetTop:o}=e;return(0,l.Wm)("div",{class:[`${f}-catalog-link`,t.active&&`${f}-catalog-active`],onClick:e=>{s(e,t),e.stopPropagation();const l=n(t.text,t.level,t.index),r=document.getElementById(l),a=i instanceof Element?i:document.querySelector(i);if(r&&a){let e=r.offsetParent,t=r.offsetTop;if(a.contains(e))for(;e&&a!=e;)t+=null==e?void 0:e.offsetTop,e=null==e?void 0:e.offsetParent;null==a||a.scrollTo({top:t-o,behavior:"smooth"})}}},[(0,l.Wm)("span",{title:t.text},[t.text]),(0,l.Wm)("div",{class:`${f}-catalog-wrapper`},[t.children&&t.children.map((e=>(0,l.Wm)(ki,{markedHeadingId:n,key:`${t.text}-link-${e.level}-${e.text}`,tocItem:e,scrollElement:i,onClick:s,scrollElementOffsetTop:o},null)))])])}}}),bi=()=>({editorId:{type:String},class:{type:String,default:""},markedHeadingId:{type:Function,default:e=>e},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function}}),yi=(0,l.aZ)({name:"MdCatalog",props:bi(),emits:["onClick"],setup(e,t){const n=e.editorId,s=(0,i.qj)({list:[],show:!1,scrollElement:e.scrollElement||`#${n}-preview-wrapper`}),o=(0,l.Fl)((()=>{const e=[];return s.list.forEach((({text:t,level:n,active:i},l)=>{const s={level:n,text:t,index:l+1,active:!!i};if(0===e.length)e.push(s);else{let t=e[e.length-1];if(s.level>t.level)for(let e=t.level+1;e<=6;e++){const{children:e}=t;if(!e){t.children=[s];break}if(t=e[e.length-1],s.level<=t.level){e.push(s);break}}else e.push(s)}})),e}));(0,l.bv)((()=>{L.on(n,{name:"catalogChanged",callback:e=>{s.list=e.map(((e,t)=>0===t?{...e,active:!0}:{...e}))}}),L.emit(n,"pushCatalog")}));const r=()=>{var t;const n=s.scrollElement instanceof HTMLElement?s.scrollElement:document.querySelector(s.scrollElement);null==(t=n===document.documentElement?window:n)||t.addEventListener("scroll",M((()=>{if(0===s.list.length)return!1;const{activeHead:t}=s.list.reduce(((t,i,l)=>{const s=document.getElementById(e.markedHeadingId(i.text,i.level,l+1));if(s instanceof HTMLElement){const l=U(s,n);if(l<e.offsetTop&&l>t.minTop)return{activeHead:i,minTop:l}}return t}),{activeHead:s.list[0],minTop:Number.MIN_SAFE_INTEGER});s.list=s.list.map((e=>e===t?{...e,active:!0}:{...e,active:!1}))})))};return(0,l.bv)((()=>{r(),L.on(n,{name:te,callback(e){e&&(0,l.Y3)(r)}})})),()=>(0,l.Wm)("div",{class:`${f}-catalog${"dark"===e.theme?"-dark":""} ${e.class}`},[o.value.map((n=>(0,l.Wm)(ki,{markedHeadingId:e.markedHeadingId,tocItem:n,key:`link-${n.level}-${n.text}`,scrollElement:s.scrollElement,onClick:(n,i)=>{e.onClick?e.onClick(n,i):t.emit("onClick",n,i)},scrollElementOffsetTop:e.scrollElementOffsetTop},null)))])}}),wi=e=>e,xi={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},historyLength:{type:Number,default:10},onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},language:{type:String,default:"zh-CN"},toolbars:{type:Array,default:S},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:v},tabWidth:{type:Number,default:2},showCodeRowNumber:{type:Boolean,default:!1},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},markedHeadingId:{type:Function,default:wi},tableShape:{type:Array,default:()=>[6,4]},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},placeholder:{type:String,default:""},noKatex:{type:Boolean,default:!1},defToolbars:{type:[String,Object]},onError:{type:Function},codeTheme:{type:String,default:"atom"},footers:{type:Array,default:C},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},noUploadImg:{type:Boolean},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function}},$i=["onChange","onSave","onUploadImg","onHtmlChanged","onGetCatalog","onError","update:modelValue","onBlur","onFocus"],Si=(0,l.aZ)({name:"MdEditorV3",props:xi,emits:$i,setup(e,t){const{editorId:n,previewOnly:s,noKatex:o,noMermaid:r,noPrettier:a,noUploadImg:c}=e,u=(0,i.qj)({scrollAuto:e.scrollAuto});se(e,t),oe(e),re(e);const[d,h]=ae(e,t),[p,m]=ce(e);return(0,l.Jd)((()=>{L.clear(n)})),ue(e,t,p,d,h),()=>{var i;const g=he({props:e,ctx:t},"defToolbars"),v=he({props:e,ctx:t},"defFooters");return(0,l.Wm)("div",{id:n,class:[f,e.class,"dark"===e.theme&&`${f}-dark`,d.fullscreen||d.pageFullscreen?`${f}-fullscreen`:"",s&&`${f}-previewOnly`],style:e.style},[!s&&(0,l.Wm)(Te,{noPrettier:a,toolbars:e.toolbars,toolbarsExclude:e.toolbarsExclude,setting:d,updateSetting:h,tableShape:e.tableShape,defToolbars:g,noUploadImg:c},null),(0,l.Wm)(ci,{value:e.modelValue,setting:d,markedHeadingId:e.markedHeadingId,noMermaid:r,sanitize:e.sanitize,placeholder:e.placeholder,noKatex:o,scrollAuto:u.scrollAuto,formatCopiedText:e.formatCopiedText,autofocus:e.autoFocus,disabled:e.disabled,readonly:e.readOnly,maxlength:e.maxLength,autoDetectCode:e.autoDetectCode,onChange:i=>{L.emit(n,"saveHistoryPos"),e.onChange?e.onChange(i):(t.emit("update:modelValue",i),t.emit("onChange",i))},onHtmlChanged:n=>{e.onHtmlChanged?e.onHtmlChanged(n):t.emit("onHtmlChanged",n)},onGetCatalog:n=>{e.onGetCatalog?e.onGetCatalog(n):t.emit("onGetCatalog",n)},onBlur:n=>{e.onBlur?e.onBlur(n):t.emit("onBlur",n)},onFocus:n=>{e.onFocus?e.onFocus(n):t.emit("onFocus",n)}},null),!s&&(null==(i=e.footers)?void 0:i.length)>0&&(0,l.Wm)(fi,{modelValue:e.modelValue,footers:e.footers,defFooters:v,scrollAuto:u.scrollAuto,onScrollAutoChange:e=>u.scrollAuto=e},null),m.value&&!s&&(0,l.Wm)(yi,{theme:e.theme,style:{display:p.value?"block":"none"},class:`${f}-catalog-editor`,editorId:n,markedHeadingId:e.markedHeadingId},null)])}}}),Ci=()=>({title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function}}),Ei=(0,l.aZ)({name:"NormalToolbar",props:Ci(),emits:["onClick"],setup(e,t){return()=>{const n=he({props:e,ctx:t},"trigger");return(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:e.title,onClick:n=>{e.onClick instanceof Function?e.onClick(n):t.emit("onClick",n)}},[n])}}}),Ti=()=>({title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]}}),Wi=(0,l.aZ)({name:"DropdownToolbar",props:Ti(),emits:["onChange"],setup(e,t){const n=(0,l.f3)("editorId");return()=>{const i=he({props:e,ctx:t},"trigger"),s=he({props:e,ctx:t},"overlay");return(0,l.Wm)(me,{relative:`#${n}-toolbar-wrapper`,visible:e.visible,onChange:n=>{e.onChange instanceof Function?e.onChange(n):t.emit("onChange",n)},overlay:s},{default:()=>[(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:e.title||""},[i])]})}}});function zi(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}const Ai=()=>({title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function}}),_i=(0,l.aZ)({name:"ModalToolbar",props:Ai(),emits:["onClick","onClose","onAdjust"],setup(e,t){return()=>{const n=he({props:e,ctx:t},"trigger"),i=he({props:e,ctx:t},"default");return(0,l.Wm)(l.HY,null,[(0,l.Wm)("div",{class:`${f}-toolbar-item`,title:e.title,onClick:()=>{e.onClick instanceof Function?e.onClick():t.emit("onClick")}},[n]),(0,l.Wm)(fe,{width:e.width,height:e.height,title:e.modalTitle,visible:e.visible,onClose:()=>{e.onClose instanceof Function?e.onClose():t.emit("onClose")},showAdjust:e.showAdjust,isFullscreen:e.isFullscreen,onAdjust:n=>{e.onAdjust instanceof Function?e.onAdjust(n):t.emit("onAdjust",n)}},zi(i)?i:{default:()=>[i]})])}}});Si.install=e=>(e.component(Si.name,Si),e.component(Ei.name,Ei),e.component(Wi.name,Wi),e.component(yi.name,yi),e.component(_i.name,_i),e),Si.NormalToolbar=Ei,Si.DropdownToolbar=Wi,Si.MdCatalog=yi,Si.ModalToolbar=_i,Si.config=_}}]);
//# sourceMappingURL=97.38b09d99.js.map