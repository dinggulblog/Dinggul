"use strict";(self["webpackChunkDINGGUL"]=self["webpackChunkDINGGUL"]||[]).push([[845],{5170:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(6252),i=a(2262),r=a(3577),o=a(4254);const l=["😀","😃","😄","😁","😆","😅","😂","🤣","😈","🤔","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","👿","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","👻","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳"],s={class:"emoji-container"},c={class:"emojis"},u=["onClick"],d=(0,n._)("button",{class:"md-editor-icon",tabindex:"-1"}," 🙂 ",-1);var m={__name:"EmojiExtension",props:{onInsert:{type:Function,default:()=>()=>null}},setup(e){const t=e,{DropdownToolbar:a}=o.Z,m=(0,i.qj)({visible:!1}),p=e=>{const a=()=>({targetValue:e,select:!1,deviationStart:0,deviationEnd:0});t.onInsert(a)},g=e=>{m.visible=e};return(e,t)=>((0,n.wg)(),(0,n.j4)((0,i.SU)(a),{title:"emoji",visible:m.visible,onOnChange:g},{overlay:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n._)("ol",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(l),((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:`emoji-${t}`,onClick:t=>p(e)},(0,r.zw)(e),9,u)))),128))])])])),trigger:(0,n.w5)((()=>[d])),_:1},8,["visible"]))}};const p=m;var g=p},1899:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});a(7658);var n=a(6252),i=a(9963),r=a(3577),o=a(2262),l=a(2201),s=a(3907),c=a(3620),u=a(3168),d=a(8032),m=a(4254),p=a(5170),g=a(6351),k=a(4835);const v={class:"profile"},f={class:"wrap_author"},w={key:0,class:"wrap_btn-edit"},b={class:"wrap_tab"},h={class:"tab"},_=["onClick"],y={key:0,class:"introduce"},j={id:"recent"};var U={__name:"Profile",setup(e){m.Z.config({editorConfig:{languageUserDefined:{"ko-KR":k.s}}});const t=[{name:"intro",content:"소개글"},{name:"like",content:"좋아요 한 게시물"},{name:"comment",content:"댓글 단 게시물"}],{push:a,currentRoute:U}=(0,l.tv)(),{dispatch:L}=(0,s.oR)(),T=(0,n.f3)("isMobile"),H=(0,n.f3)("TOAST_EL"),C=(0,o.iH)(null),D=(0,o.qj)({nickname:"",_id:"",avatar:"",greetings:"",introduce:""}),P=(0,o.qj)({tab:"intro",state:"view"}),Z=e=>{P.state=e},I=e=>{P.tab=e},E=e=>{D.greetings=e.target.value},q=e=>{C.value?.insert(e)},S=async e=>{const t=new FormData;t.append("avatar",e.target.files[0],e.target.files[0].name.replace(/(\s)/g,""));const{success:a,profile:n,error:i}=await L("auth/updateProfileAvatar",{nickname:D.nickname,payload:t});if(!a)return H.value.open("error",i);D.avatar=n.avatar},x=async()=>{const{success:e,error:t}=await L("auth/deleteProfileAvatar",{nickname:D.nickname});if(!e)return H.value.open("error",t);D.avatar=""},F=async()=>{if(D.greetings.length>150)return H.value.open("error","글자 수 제한을 초과하였습니다. (최대 150자까지 허용)");const{success:e,profile:t,error:a}=await L("auth/updateProfile",{nickname:D.nickname,payload:{greetings:D.greetings}});if(!e)return H.value.open("error",a);D.greetings=t.greetings,Z("view")},R=async()=>{const{success:e,profile:t,error:a}=await L("auth/updateProfile",{nickname:D.nickname,payload:{introduce:D.introduce}});if(!e)return H.value.open("error",a);D.introduce=t.introduce,Z("view")};return(0,n.YP)(U,(async()=>{const{profile:e,error:t}=await L("auth/getProfile",{nickname:U.value.params.nickname});if(t)return H.value.open("error",t),a({name:"home"});D._id=e?._id??"",D.nickname=e?.nickname??"",D.avatar=e?.avatar??"",D.greetings=e?.greetings??"",D.introduce=e?.introduce??""}),{immediate:!0}),(e,a)=>{const l=(0,n.up)("Button");return(0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("form",{onSubmit:a[1]||(a[1]=(0,i.iM)(((...t)=>e.submitForm&&e.submitForm(...t)),["prevent"]))},[(0,n._)("div",f,[(0,n.Wm)(c.Z,{profile:D,state:P.state,onUpdateAvatar:S,onResetAvatar:x,onUpdateGreetings:E},null,8,["profile","state"]),D.nickname===e.$store.state.auth.user?.nickname?((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("button",{class:"btn_edit",onClick:a[0]||(a[0]=e=>"edit"===P.state?F():Z("edit"))},(0,r.zw)("edit"===P.state?"편집 완료":"기본 정보 편집"),1)])):(0,n.kq)("",!0)])],32),(0,n._)("div",b,[(0,n._)("ul",h,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(t,(e=>(0,n._)("li",{key:e.name,class:(0,r.C_)(e.name===P.tab?"isActive":""),onClick:t=>I(e.name)},(0,r.zw)(e.content),11,_))),64))])]),"intro"===P.tab?((0,n.wg)(),(0,n.iD)("div",y,["introEdit"===P.state?((0,n.wg)(),(0,n.j4)((0,o.SU)(m.Z),{key:0,ref_key:"PROFILE_EL",ref:C,modelValue:D.introduce,"onUpdate:modelValue":a[2]||(a[2]=e=>D.introduce=e),language:"ko-KR",toolbars:(0,o.SU)(g.Z),preview:!(0,o.SU)(T)},{defToolbars:(0,n.w5)((()=>[(0,n.Wm)(p.Z,{onInsert:q})])),_:1},8,["modelValue","toolbars","preview"])):((0,n.wg)(),(0,n.j4)((0,o.SU)(m.Z),{key:1,modelValue:D.introduce,"onUpdate:modelValue":a[3]||(a[3]=e=>D.introduce=e),previewOnly:""},null,8,["modelValue"])),D.nickname===e.$store.state.auth.user?.nickname?((0,n.wg)(),(0,n.j4)(l,{key:2,class:"btn_edit_introduce",size:"sm",shape:"fill-round",theme:"primary",onClick:a[4]||(a[4]=e=>"introEdit"===P.state?R():Z("introEdit"))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)("introEdit"===P.state?"편집 완료":"소개글 편집"),1)])),_:1})):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.j4)(n.n4,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(u.Z,{filter:P.tab,userId:D._id,type:"recent"},null,8,["filter","userId"])])),fallback:(0,n.w5)((()=>[(0,n._)("ul",j,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(6,(e=>(0,n.Wm)(d.Z,{key:e}))),64))])])),_:1}))])}}},L=a(3744);const T=(0,L.Z)(U,[["__scopeId","data-v-8cad7dfa"]]);var H=T},4835:function(e,t,a){a.d(t,{s:function(){return n}});const n={toolbarTips:{bold:"진하게",underline:"밑줄",italic:"기울임",strikeThrough:"취소선",title:"표제",sub:"아래 첨자",sup:"위 첨자",quote:"인용문",unorderedList:"글머리 기호",orderedList:"번호 매기기",task:"할 일 목록",codeRow:"인라인 코드",code:"코드 블록",link:"링크",image:"이미지",table:"테이블",mermaid:"Mermaid",katex:"Formular",revoke:"되돌리기",next:"다시 실행",save:"임시 저장",prettier:"정렬",pageFullscreen:"페이지 전체화면",fullscreen:"전체화면",preview:"미리보기",htmlPreview:"HTML 미리보기",catalog:"카탈로그",github:" Github 소스 코드"},titleItem:{h1:"1 Heading",h2:"2 Heading",h3:"3 Heading",h4:"4 Heading",h5:"5 Heading",h6:"6 Heading"},imgTitleItem:{link:"링크 추가",upload:"이미지 업로드",clip2upload:"클립 업로드"},linkModalTips:{title:"링크 추가",descLabel:"설명:",descLabelPlaceHolder:"(선택사항) 설명을 입력해 주세요...",urlLabel:"링크:",urlLabelPlaceHolder:"링크를 입력해 주세요...",buttonOK:"완료"},clipModalTips:{title:"클립 이미지 업로드",buttonUpload:"업로드"},copyCode:{text:"복사하기",successTips:"복사 완료!",failTips:"복사 실패..."},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"글자 수",scrollAuto:"자동 스크롤"}}},6351:function(e,t,a){a.d(t,{Z:function(){return n}});const n=["bold","underline","italic","-","title","strikeThrough","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","0","=","revoke","next","save","pageFullscreen","preview","htmlPreview","catalog"]}}]);
//# sourceMappingURL=profile.7e024815.js.map